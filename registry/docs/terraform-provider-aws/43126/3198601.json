{
  "data": {
    "type": "provider-docs",
    "id": "3198601",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Lightsail\"\nlayout: \"aws\"\npage_title: \"AWS: aws_lightsail_instance\"\ndescription: |-\n  Provides an Lightsail Instance\n---\n\n# Resource: aws_lightsail_instance\n\nProvides a Lightsail Instance. Amazon Lightsail is a service to provide easy virtual private servers\nwith custom software already setup. See [What is Amazon Lightsail?](https://lightsail.aws.amazon.com/ls/docs/getting-started/article/what-is-amazon-lightsail)\nfor more information.\n\n~> **Note:** Lightsail is currently only supported in a limited number of AWS Regions, please see [\"Regions and Availability Zones in Amazon Lightsail\"](https://lightsail.aws.amazon.com/ls/docs/overview/article/understanding-regions-and-availability-zones-in-amazon-lightsail) for more details\n\n## Example Usage\n\n### Basic Usage\n\n```terraform\n# Create a new GitLab Lightsail Instance\nresource \"aws_lightsail_instance\" \"gitlab_test\" {\n  name              = \"custom_gitlab\"\n  availability_zone = \"us-east-1b\"\n  blueprint_id      = \"amazon_linux_2\"\n  bundle_id         = \"nano_1_0\"\n  key_pair_name     = \"some_key_name\"\n  tags = {\n    foo = \"bar\"\n  }\n}\n```\n\n### Example With User Data\n\nLightsail user data is handled differently than ec2 user data. Lightsail user data only accepts a single lined string. The below example shows installing apache and creating the index page.\n\n```terraform\nresource \"aws_lightsail_instance\" \"custom\" {\n  name              = \"custom\"\n  availability_zone = \"us-east-1b\"\n  blueprint_id      = \"amazon_linux_2\"\n  bundle_id         = \"nano_1_0\"\n  user_data         = \"sudo yum install -y httpd && sudo systemctl start httpd && sudo systemctl enable httpd && echo '<h1>Deployed via Terraform</h1>' | sudo tee /var/www/html/index.html\"\n}\n```\n\n### Enable Auto Snapshots\n\n```terraform\nresource \"aws_lightsail_instance\" \"test\" {\n  name              = \"custom_instance\"\n  availability_zone = \"us-east-1b\"\n  blueprint_id      = \"amazon_linux_2\"\n  bundle_id         = \"nano_1_0\"\n  add_on {\n    type          = \"AutoSnapshot\"\n    snapshot_time = \"06:00\"\n    status        = \"Enabled\"\n  }\n  tags = {\n    foo = \"bar\"\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `name` - (Required) The name of the Lightsail Instance. Names be unique within each AWS Region in your Lightsail account.\n* `availability_zone` - (Required) The Availability Zone in which to create your\ninstance (see list below)\n* `blueprint_id` - (Required) The ID for a virtual private server image. A list of available blueprint IDs can be obtained using the AWS CLI command: `aws lightsail get-blueprints`\n* `bundle_id` - (Required) The bundle of specification information (see list below)\n* `key_pair_name` - (Optional) The name of your key pair. Created in the\nLightsail console (cannot use `aws_key_pair` at this time)\n* `user_data` - (Optional) Single lined launch script as a string to configure server with additional user data\n* `ip_address_type` - (Optional) The IP address type of the Lightsail Instance. Valid Values: `dualstack` | `ipv4`.\n* `add_on` - (Optional) The add on configuration for the instance. [Detailed below](#add_on).\n* `tags` - (Optional) A map of tags to assign to the resource. To create a key-only tag, use an empty string as the value. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n### `add_on`\n\nDefines the add on configuration for the instance. The `add_on` configuration block supports the following arguments:\n\n* `type` - (Required) The add-on type. There is currently only one valid type `AutoSnapshot`.\n* `snapshot_time` - (Required) The daily time when an automatic snapshot will be created. Must be in HH:00 format, and in an hourly increment and specified in Coordinated Universal Time (UTC). The snapshot will be automatically created between the time specified and up to 45 minutes after.\n* `status` - (Required) The status of the add on. Valid Values: `Enabled`, `Disabled`.\n\n## Availability Zones\n\nLightsail currently supports the following Availability Zones (e.g., `us-east-1a`):\n\n- `ap-northeast-1{a,c,d}`\n- `ap-northeast-2{a,c}`\n- `ap-south-1{a,b}`\n- `ap-southeast-1{a,b,c}`\n- `ap-southeast-2{a,b,c}`\n- `ca-central-1{a,b}`\n- `eu-central-1{a,b,c}`\n- `eu-west-1{a,b,c}`\n- `eu-west-2{a,b,c}`\n- `eu-west-3{a,b,c}`\n- `us-east-1{a,b,c,d,e,f}`\n- `us-east-2{a,b,c}`\n- `us-west-2{a,b,c}`\n\n## Bundles\n\nLightsail currently supports the following Bundle IDs (e.g., an instance in `ap-northeast-1` would use `small_2_0`):\n\n### Prefix\n\nA Bundle ID starts with one of the below size prefixes:\n\n- `nano_`\n- `micro_`\n- `small_`\n- `medium_`\n- `large_`\n- `xlarge_`\n- `2xlarge_`\n\n### Suffix\n\nA Bundle ID ends with one of the following suffixes depending on Availability Zone:\n\n- ap-northeast-1: `2_0`\n- ap-northeast-2: `2_0`\n- ap-south-1: `2_1`\n- ap-southeast-1: `2_0`\n- ap-southeast-2: `2_2`\n- ca-central-1: `2_0`\n- eu-central-1: `2_0`\n- eu-west-1: `2_0`\n- eu-west-2: `2_0`\n- eu-west-3: `2_0`\n- us-east-1: `2_0`\n- us-east-2: `2_0`\n- us-west-2: `2_0`\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - The ARN of the Lightsail instance (matches `arn`).\n* `arn` - The ARN of the Lightsail instance (matches `id`).\n* `created_at` - The timestamp when the instance was created.\n* `cpu_count` - The number of vCPUs the instance has.\n* `ram_size` - The amount of RAM in GB on the instance (e.g., 1.0).\n* `ipv6_addresses` - List of IPv6 addresses for the Lightsail instance.\n* `private_ip_address` - The private IP address of the instance.\n* `public_ip_address` - The public IP address of the instance.\n* `is_static_ip` - A Boolean value indicating whether this instance has a static IP assigned to it.\n* `username` - The user name for connecting to the instance (e.g., ec2-user).\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Lightsail Instances using their name. For example:\n\n```terraform\nimport {\n  to = aws_lightsail_instance.gitlab_test\n  id = \"custom_gitlab\"\n}\n```\n\nUsing `terraform import`, import Lightsail Instances using their name. For example:\n\n```console\n% terraform import aws_lightsail_instance.gitlab_test 'custom_gitlab'\n```\n",
      "language": "hcl",
      "path": "website/docs/r/lightsail_instance.html.markdown",
      "slug": "lightsail_instance",
      "subcategory": "Lightsail",
      "title": "lightsail_instance",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3198601"
    }
  }
}