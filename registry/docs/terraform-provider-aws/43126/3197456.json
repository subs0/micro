{
  "data": {
    "type": "provider-docs",
    "id": "3197456",
    "attributes": {
      "category": "data-sources",
      "content": "---\nsubcategory: \"CloudWatch Logs\"\nlayout: \"aws\"\npage_title: \"AWS: aws_cloudwatch_log_data_protection_policy_document\"\ndescription: |-\n  Generates a CloudWatch Log Group Data Protection Policy document in JSON format\n---\n\n# Data Source: aws_cloudwatch_log_data_protection_policy_document\n\nGenerates a CloudWatch Log Group Data Protection Policy document in JSON format for use with the `aws_cloudwatch_log_data_protection_policy` resource.\n\n-> For more information about data protection policies, see the [Help protect sensitive log data with masking](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/mask-sensitive-log-data.html).\n\n## Example Usage\n\n```terraform\nresource \"aws_cloudwatch_log_data_protection_policy\" \"example\" {\n  log_group_name  = aws_cloudwatch_log_group.example.name\n  policy_document = data.aws_cloudwatch_log_data_protection_policy_document.example.json\n}\n\ndata \"aws_cloudwatch_log_data_protection_policy_document\" \"example\" {\n  name = \"Example\"\n\n  statement {\n    sid = \"Audit\"\n\n    data_identifiers = [\n      \"arn:aws:dataprotection::aws:data-identifier/EmailAddress\",\n      \"arn:aws:dataprotection::aws:data-identifier/DriversLicense-US\",\n    ]\n\n    operation {\n      audit {\n        findings_destination {\n          cloudwatch_logs {\n            log_group = aws_cloudwatch_log_group.audit.name\n          }\n          firehose {\n            delivery_stream = aws_kinesis_firehose_delivery_stream.audit.name\n          }\n          s3 {\n            bucket = aws_s3_bucket.audit.bucket\n          }\n        }\n      }\n    }\n  }\n\n  statement {\n    sid = \"Deidentify\"\n\n    data_identifiers = [\n      \"arn:aws:dataprotection::aws:data-identifier/EmailAddress\",\n      \"arn:aws:dataprotection::aws:data-identifier/DriversLicense-US\",\n    ]\n\n    operation {\n      deidentify {\n        mask_config {}\n      }\n    }\n  }\n}\n```\n\n## Argument Reference\n\nThe following arguments are required:\n\n* `name` - (Required) The name of the data protection policy document.\n* `statement` - (Required) Configures the data protection policy.\n\n-> There must be exactly two statements: the first with an `audit` operation, and the second with a `deidentify` operation.\n\nThe following arguments are optional:\n\n* `description` - (Optional)\n* `version` - (Optional)\n\n### statement Configuration Block\n\n* `data_identifiers` - (Required) Set of at least 1 sensitive data identifiers that you want to mask. Read more in [Types of data that you can protect](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/protect-sensitive-log-data-types.html).\n* `operation` - (Required) Configures the data protection operation applied by this statement.\n* `sid` - (Optional) Name of this statement.\n\n#### operation Configuration Block\n\n* `audit` - (Optional) Configures the detection of sensitive data.\n* `deidentify` - (Optional) Configures the masking of sensitive data.\n\n-> Every policy statement must specify exactly one operation.\n\n##### audit Configuration Block\n\n* `findings_destination` - (Required) Configures destinations to send audit findings to.\n\n##### findings_destination Configuration Block\n\n* `cloudwatch_logs` - (Optional) Configures CloudWatch Logs as a findings destination.\n* `firehose` - (Optional) Configures Kinesis Firehose as a findings destination.\n* `s3` - (Optional) Configures S3 as a findings destination.\n\n###### cloudwatch_logs Configuration Block\n\n* `log_group` - (Required) Name of the CloudWatch Log Group to send findings to.\n\n###### firehose Configuration Block\n\n* `delivery_stream` - (Required) Name of the Kinesis Firehose Delivery Stream to send findings to.\n\n###### s3 Configuration Block\n\n* `bucket` - (Required) Name of the S3 Bucket to send findings to.\n\n##### deidentify Configuration Block\n\n* `mask_config` - (Required) An empty object that configures masking.\n\n## Attribute Reference\n\nThis data source exports the following attributes in addition to the arguments above:\n\n* `json` - Standard JSON policy document rendered based on the arguments above.\n",
      "language": "hcl",
      "path": "website/docs/d/cloudwatch_log_data_protection_policy_document.html.markdown",
      "slug": "cloudwatch_log_data_protection_policy_document",
      "subcategory": "CloudWatch Logs",
      "title": "cloudwatch_log_data_protection_policy_document",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3197456"
    }
  }
}