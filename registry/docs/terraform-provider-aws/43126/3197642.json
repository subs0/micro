{
  "data": {
    "type": "provider-docs",
    "id": "3197642",
    "attributes": {
      "category": "data-sources",
      "content": "---\nsubcategory: \"EC2 (Elastic Compute Cloud)\"\nlayout: \"aws\"\npage_title: \"AWS: aws_instance\"\ndescription: |-\n  Get information on an Amazon EC2 Instance.\n---\n\n# Data Source: aws_instance\n\nUse this data source to get the ID of an Amazon EC2 Instance for use in other resources.\n\n## Example Usage\n\n```terraform\ndata \"aws_instance\" \"foo\" {\n  instance_id = \"i-instanceid\"\n\n  filter {\n    name   = \"image-id\"\n    values = [\"ami-xxxxxxxx\"]\n  }\n\n  filter {\n    name   = \"tag:Name\"\n    values = [\"instance-name-tag\"]\n  }\n}\n```\n\n## Argument Reference\n\n* `instance_id` - (Optional) Specify the exact Instance ID with which to populate the data source.\n\n* `instance_tags` - (Optional) Map of tags, each pair of which must\nexactly match a pair on the desired Instance.\n\n* `filter` - (Optional) One or more name/value pairs to use as filters. There are\nseveral valid keys, for a full reference, check out\n[describe-instances in the AWS CLI reference][1].\n\n* `get_password_data` - (Optional) If true, wait for password data to become available and retrieve it. Useful for getting the administrator password for instances running Microsoft Windows. The password data is exported to the `password_data` attribute. See [GetPasswordData](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_GetPasswordData.html) for more information.\n\n* `get_user_data` - (Optional) Retrieve Base64 encoded User Data contents into the `user_data_base64` attribute. A SHA-1 hash of the User Data contents will always be present in the `user_data` attribute. Defaults to `false`.\n\n~> **NOTE:** At least one of `filter`, `instance_tags`, or `instance_id` must be specified.\n\n~> **NOTE:** If anything other than a single match is returned by the search,\nTerraform will fail. Ensure that your search is specific enough to return\na single Instance ID only.\n\n## Attribute Reference\n\n`id` is set to the ID of the found Instance. In addition, the following attributes\nare exported:\n\n~> **NOTE:** Some values are not always set and may not be available for\ninterpolation.\n\n* `ami` - ID of the AMI used to launch the instance.\n* `arn` - ARN of the instance.\n* `associate_public_ip_address` - Whether or not the Instance is associated with a public IP address or not (Boolean).\n* `availability_zone` - Availability zone of the Instance.\n* `credit_specification` - Credit specification of the Instance.\n* `disable_api_stop` - Whether or not EC2 Instance Stop Protection](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html#Using_StopProtection) is enabled (Boolean).\n* `disable_api_termination` - Whether or not [EC2 Instance Termination Protection](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingDisableAPITermination) is enabled (Boolean).\n* `ebs_block_device` - EBS block device mappings of the Instance.\n    * `delete_on_termination` - If the EBS volume will be deleted on termination.\n    * `device_name` - Physical name of the device.\n    * `encrypted` - If the EBS volume is encrypted.\n    * `iops` - `0` If the EBS volume is not a provisioned IOPS image, otherwise the supported IOPS count.\n    * `kms_key_arn` - ARN of KMS Key, if EBS volume is encrypted.\n    * `snapshot_id` - ID of the snapshot.\n    * `throughput` - Throughput of the volume, in MiB/s.\n    * `volume_size` - Size of the volume, in GiB.\n    * `volume_type` - Volume type.\n* `ebs_optimized` - Whether the Instance is EBS optimized or not (Boolean).\n* `enclave_options` - Enclave options of the instance.\n    * `enabled` - Whether Nitro Enclaves are enabled.\n* `ephemeral_block_device` - Ephemeral block device mappings of the Instance.\n    * `device_name` - Physical name of the device.\n    * `no_device` - Whether the specified device included in the device mapping was suppressed or not (Boolean).\n    * `virtual_name` - Virtual device name.\n* `host_id` - ID of the dedicated host the instance will be assigned to.\n* `host_resource_group_arn` - ARN of the host resource group the instance is associated with.\n* `iam_instance_profile` - Name of the instance profile associated with the Instance.\n* `instance_state` - State of the instance. One of: `pending`, `running`, `shutting-down`, `terminated`, `stopping`, `stopped`. See [Instance Lifecycle](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-lifecycle.html) for more information.\n* `instance_type` - Type of the Instance.\n* `ipv6_addresses` - IPv6 addresses associated to the Instance, if applicable. **NOTE**: Unlike the IPv4 address, this doesn't change if you attach an EIP to the instance.\n* `key_name` - Key name of the Instance.\n* `maintenance_options` - Maintenance and recovery options for the instance.\n    * `auto_recovery` - Automatic recovery behavior of the instance.\n* `metadata_options` - Metadata options of the Instance.\n    * `http_endpoint` - State of the metadata service: `enabled`, `disabled`.\n    * `http_protocol_ipv6` - Whether the IPv6 endpoint for the instance metadata service is `enabled` or `disabled`\n    * `http_tokens` - If session tokens are required: `optional`, `required`.\n    * `http_put_response_hop_limit` - Desired HTTP PUT response hop limit for instance metadata requests.\n    * `instance_metadata_tags` - If access to instance tags is allowed from the metadata service: `enabled`, `disabled`.\n* `monitoring` - Whether detailed monitoring is enabled or disabled for the Instance (Boolean).\n* `network_interface_id` - ID of the network interface that was created with the Instance.\n* `outpost_arn` - ARN of the Outpost.\n* `password_data` - Base-64 encoded encrypted password data for the instance. Useful for getting the administrator password for instances running Microsoft Windows. This attribute is only exported if `get_password_data` is true. See [GetPasswordData](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_GetPasswordData.html) for more information.\n* `placement_group` - Placement group of the Instance.\n* `placement_partition_number` - Number of the partition the instance is in.\n* `private_dns` - Private DNS name assigned to the Instance. Can only be used inside the Amazon EC2, and only available if you've enabled DNS hostnames for your VPC.\n* `private_dns_name_options` - Options for the instance hostname.\n    * `enable_resource_name_dns_aaaa_record` - Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records.\n    * `enable_resource_name_dns_a_record` - Indicates whether to respond to DNS queries for instance hostnames with DNS A records.\n    * `hostname_type` - Type of hostname for EC2 instances.\n* `private_ip` - Private IP address assigned to the Instance.\n* `public_dns` - Public DNS name assigned to the Instance. For EC2-VPC, this is only available if you've enabled DNS hostnames for your VPC.\n* `public_ip` - Public IP address assigned to the Instance, if applicable. **NOTE**: If you are using an [`aws_eip`](/docs/providers/aws/r/eip.html) with your instance, you should refer to the EIP's address directly and not use `public_ip`, as this field will change after the EIP is attached.\n* `root_block_device` - Root block device mappings of the Instance\n    * `device_name` - Physical name of the device.\n    * `delete_on_termination` - If the root block device will be deleted on termination.\n    * `encrypted` - If the EBS volume is encrypted.\n    * `iops` - `0` If the volume is not a provisioned IOPS image, otherwise the supported IOPS count.\n    * `kms_key_arn` - ARN of KMS Key, if EBS volume is encrypted.\n    * `throughput` - Throughput of the volume, in MiB/s.\n    * `volume_size` - Size of the volume, in GiB.\n    * `volume_type` - Type of the volume.\n* `secondary_private_ips` - Secondary private IPv4 addresses assigned to the instance's primary network interface (eth0) in a VPC.\n* `security_groups` - Associated security groups.\n* `source_dest_check` - Whether the network interface performs source/destination checking (Boolean).\n* `subnet_id` - VPC subnet ID.\n* `tags` - Map of tags assigned to the Instance.\n* `tenancy` - Tenancy of the instance: `dedicated`, `default`, `host`.\n* `user_data` - SHA-1 hash of User Data supplied to the Instance.\n* `user_data_base64` - Base64 encoded contents of User Data supplied to the Instance. Valid UTF-8 contents can be decoded with the [`base64decode` function](https://www.terraform.io/docs/configuration/functions/base64decode.html). This attribute is only exported if `get_user_data` is true.\n* `vpc_security_group_ids` - Associated security groups in a non-default VPC.\n\n## Timeouts\n\n[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):\n\n- `read` - (Default `20m`)\n\n[1]: http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html\n",
      "language": "hcl",
      "path": "website/docs/d/instance.html.markdown",
      "slug": "instance",
      "subcategory": "EC2 (Elastic Compute Cloud)",
      "title": "instance",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3197642"
    }
  }
}