{
  "data": {
    "type": "provider-docs",
    "id": "3225625",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"OpenSearch Serverless\"\nlayout: \"aws\"\npage_title: \"AWS: aws_opensearchserverless_access_policy\"\ndescription: |-\n  Terraform resource for managing an AWS OpenSearch Serverless Access Policy.\n---\n\n# Resource: aws_opensearchserverless_access_policy\n\nTerraform resource for managing an AWS OpenSearch Serverless Access Policy. See AWS documentation for [data access policies](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html) and [supported data access policy permissions](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-data-access.html#serverless-data-supported-permissions).\n\n## Example Usage\n\n### Grant all collection and index permissions\n\n```terraform\ndata \"aws_caller_identity\" \"current\" {}\n\nresource \"aws_opensearchserverless_access_policy\" \"example\" {\n  name        = \"example\"\n  type        = \"data\"\n  description = \"read and write permissions\"\n  policy = jsonencode([\n    {\n      Rules = [\n        {\n          ResourceType = \"index\",\n          Resource = [\n            \"index/example-collection/*\"\n          ],\n          Permission = [\n            \"aoss:*\"\n          ]\n        },\n        {\n          ResourceType = \"collection\",\n          Resource = [\n            \"collection/example-collection\"\n          ],\n          Permission = [\n            \"aoss:*\"\n          ]\n        }\n      ],\n      Principal = [\n        data.aws_caller_identity.current.arn\n      ]\n    }\n  ])\n}\n```\n\n### Grant read-only collection and index permissions\n\n```\ndata \"aws_caller_identity\" \"current\" {}\n\nresource \"aws_opensearchserverless_access_policy\" \"example\" {\n  name        = \"example\"\n  type        = \"data\"\n  description = \"read-only permissions\"\n  policy = jsonencode([\n    {\n      Rules = [\n        {\n          ResourceType = \"index\",\n          Resource = [\n            \"index/example-collection/*\"\n          ],\n          Permission = [\n            \"aoss:DescribeIndex\",\n            \"aoss:ReadDocument\",\n          ]\n        },\n        {\n          ResourceType = \"collection\",\n          Resource = [\n            \"collection/example-collection\"\n          ],\n          Permission = [\n            \"aoss:DescribeCollectionItems\"\n          ]\n        }\n      ],\n      Principal = [\n        data.aws_caller_identity.current.arn\n      ]\n    }\n  ])\n}\n```\n\n### Grant SAML identity permissions\n\n```\nresource \"aws_opensearchserverless_access_policy\" \"example\" {\n  name = \"example\"\n  type = \"data\"\n  description = \"saml permissions\"\n  policy = jsonencode([\n    {\n      Rules = [\n        {\n          ResourceType = \"index\",\n          Resource = [\n            \"index/example-collection/*\"\n          ],\n          Permission = [\n            \"aoss:*\"\n          ]\n        },\n        {\n          ResourceType = \"collection\",\n          Resource = [\n            \"collection/example-collection\"\n          ],\n          Permission = [\n            \"aoss:*\"\n          ]\n        }\n      ],\n      Principal = [\n        \"saml/123456789012/myprovider/user/Annie\",\n        \"saml/123456789012/anotherprovider/group/Accounting\"\n      ]\n    }\n  ])\n}\n```\n\n## Argument Reference\n\nThe following arguments are required:\n\n* `name` - (Required) Name of the policy.\n* `policy` - (Required) JSON policy document to use as the content for the new policy\n* `type` - (Required) Type of access policy. Must be `data`.\n\nThe following arguments are optional:\n\n* `description` - (Optional) Description of the policy. Typically used to store information about the permissions defined in the policy.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `policy_version` - Version of the policy.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import OpenSearchServerless Access Policy using the `name` and `type` arguments separated by a slash (`/`). For example:\n\n```terraform\nimport {\n  to = aws_opensearchserverless_access_policy.example\n  id = \"example/data\"\n}\n```\n\nUsing `terraform import`, import OpenSearchServerless Access Policy using the `name` and `type` arguments separated by a slash (`/`). For example:\n\n```console\n% terraform import aws_opensearchserverless_access_policy.example example/data\n```\n",
      "language": "hcl",
      "path": "website/docs/r/opensearchserverless_access_policy.html.markdown",
      "slug": "opensearchserverless_access_policy",
      "subcategory": "OpenSearch Serverless",
      "title": "opensearchserverless_access_policy",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225625"
    }
  }
}