{
  "data": {
    "type": "provider-docs",
    "id": "3225781",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"S3 (Simple Storage)\"\nlayout: \"aws\"\npage_title: \"AWS: aws_s3_bucket_analytics_configuration\"\ndescription: |-\n  Provides a S3 bucket analytics configuration resource.\n---\n\n# Resource: aws_s3_bucket_analytics_configuration\n\nProvides a S3 bucket [analytics configuration](https://docs.aws.amazon.com/AmazonS3/latest/dev/analytics-storage-class.html) resource.\n\n## Example Usage\n\n### Add analytics configuration for entire S3 bucket and export results to a second S3 bucket\n\n```terraform\nresource \"aws_s3_bucket_analytics_configuration\" \"example-entire-bucket\" {\n  bucket = aws_s3_bucket.example.id\n  name   = \"EntireBucket\"\n\n  storage_class_analysis {\n    data_export {\n      destination {\n        s3_bucket_destination {\n          bucket_arn = aws_s3_bucket.analytics.arn\n        }\n      }\n    }\n  }\n}\n\nresource \"aws_s3_bucket\" \"example\" {\n  bucket = \"example\"\n}\n\nresource \"aws_s3_bucket\" \"analytics\" {\n  bucket = \"analytics destination\"\n}\n```\n\n### Add analytics configuration with S3 object filter\n\n```terraform\nresource \"aws_s3_bucket_analytics_configuration\" \"example-filtered\" {\n  bucket = aws_s3_bucket.example.id\n  name   = \"ImportantBlueDocuments\"\n\n  filter {\n    prefix = \"documents/\"\n\n    tags = {\n      priority = \"high\"\n      class    = \"blue\"\n    }\n  }\n}\n\nresource \"aws_s3_bucket\" \"example\" {\n  bucket = \"example\"\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `bucket` - (Required) Name of the bucket this analytics configuration is associated with.\n* `name` - (Required) Unique identifier of the analytics configuration for the bucket.\n* `filter` - (Optional) Object filtering that accepts a prefix, tags, or a logical AND of prefix and tags (documented below).\n* `storage_class_analysis` - (Optional) Configuration for the analytics data export (documented below).\n\nThe `filter` configuration supports the following:\n\n* `prefix` - (Optional) Object prefix for filtering.\n* `tags` - (Optional) Set of object tags for filtering.\n\nThe `storage_class_analysis` configuration supports the following:\n\n* `data_export` - (Required) Data export configuration (documented below).\n\nThe `data_export` configuration supports the following:\n\n* `output_schema_version` - (Optional) Schema version of exported analytics data. Allowed values: `V_1`. Default value: `V_1`.\n* `destination` - (Required) Specifies the destination for the exported analytics data (documented below).\n\nThe `destination` configuration supports the following:\n\n* `s3_bucket_destination` - (Required) Analytics data export currently only supports an S3 bucket destination (documented below).\n\nThe `s3_bucket_destination` configuration supports the following:\n\n* `bucket_arn` - (Required) ARN of the destination bucket.\n* `bucket_account_id` - (Optional) Account ID that owns the destination bucket.\n* `format` - (Optional) Output format of exported analytics data. Allowed values: `CSV`. Default value: `CSV`.\n* `prefix` - (Optional) Prefix to append to exported analytics data.\n\n## Attribute Reference\n\nThis resource exports no additional attributes.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import S3 bucket analytics configurations using `bucket:analytics`. For example:\n\n```terraform\nimport {\n  to = aws_s3_bucket_analytics_configuration.my-bucket-entire-bucket\n  id = \"my-bucket:EntireBucket\"\n}\n```\n\nUsing `terraform import`, import S3 bucket analytics configurations using `bucket:analytics`. For example:\n\n```console\n% terraform import aws_s3_bucket_analytics_configuration.my-bucket-entire-bucket my-bucket:EntireBucket\n```\n",
      "language": "hcl",
      "path": "website/docs/r/s3_bucket_analytics_configuration.html.markdown",
      "slug": "s3_bucket_analytics_configuration",
      "subcategory": "S3 (Simple Storage)",
      "title": "s3_bucket_analytics_configuration",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225781"
    }
  }
}