{
  "data": {
    "type": "provider-docs",
    "id": "3224872",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"API Gateway V2\"\nlayout: \"aws\"\npage_title: \"AWS: aws_apigatewayv2_route\"\ndescription: |-\n  Manages an Amazon API Gateway Version 2 route.\n---\n\n# Resource: aws_apigatewayv2_route\n\nManages an Amazon API Gateway Version 2 route.\nMore information can be found in the [Amazon API Gateway Developer Guide](https://docs.aws.amazon.com/apigateway/latest/developerguide/welcome.html) for [WebSocket](https://docs.aws.amazon.com/apigateway/latest/developerguide/websocket-api-develop-routes.html) and [HTTP](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-routes.html) APIs.\n\n## Example Usage\n\n### Basic\n\n```terraform\nresource \"aws_apigatewayv2_api\" \"example\" {\n  name                       = \"example-websocket-api\"\n  protocol_type              = \"WEBSOCKET\"\n  route_selection_expression = \"$request.body.action\"\n}\n\nresource \"aws_apigatewayv2_route\" \"example\" {\n  api_id    = aws_apigatewayv2_api.example.id\n  route_key = \"$default\"\n}\n```\n\n### HTTP Proxy Integration\n\n```terraform\nresource \"aws_apigatewayv2_api\" \"example\" {\n  name          = \"example-http-api\"\n  protocol_type = \"HTTP\"\n}\n\nresource \"aws_apigatewayv2_integration\" \"example\" {\n  api_id           = aws_apigatewayv2_api.example.id\n  integration_type = \"HTTP_PROXY\"\n\n  integration_method = \"ANY\"\n  integration_uri    = \"https://example.com/{proxy}\"\n}\n\nresource \"aws_apigatewayv2_route\" \"example\" {\n  api_id    = aws_apigatewayv2_api.example.id\n  route_key = \"ANY /example/{proxy+}\"\n\n  target = \"integrations/${aws_apigatewayv2_integration.example.id}\"\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `api_id` - (Required) API identifier.\n* `route_key` - (Required) Route key for the route. For HTTP APIs, the route key can be either `$default`, or a combination of an HTTP method and resource path, for example, `GET /pets`.\n* `api_key_required` - (Optional) Boolean whether an API key is required for the route. Defaults to `false`. Supported only for WebSocket APIs.\n* `authorization_scopes` - (Optional) Authorization scopes supported by this route. The scopes are used with a JWT authorizer to authorize the method invocation.\n* `authorization_type` - (Optional) Authorization type for the route.\nFor WebSocket APIs, valid values are `NONE` for open access, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.\nFor HTTP APIs, valid values are `NONE` for open access, `JWT` for using JSON Web Tokens, `AWS_IAM` for using AWS IAM permissions, and `CUSTOM` for using a Lambda authorizer.\nDefaults to `NONE`.\n* `authorizer_id` - (Optional) Identifier of the [`aws_apigatewayv2_authorizer`](apigatewayv2_authorizer.html) resource to be associated with this route.\n* `model_selection_expression` - (Optional) The [model selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-model-selection-expressions) for the route. Supported only for WebSocket APIs.\n* `operation_name` - (Optional) Operation name for the route. Must be between 1 and 64 characters in length.\n* `request_models` - (Optional) Request models for the route. Supported only for WebSocket APIs.\n* `request_parameter` - (Optional) Request parameters for the route. Supported only for WebSocket APIs.\n* `route_response_selection_expression` - (Optional) The [route response selection expression](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-route-response-selection-expressions) for the route. Supported only for WebSocket APIs.\n* `target` - (Optional) Target for the route, of the form `integrations/`*`IntegrationID`*, where *`IntegrationID`* is the identifier of an [`aws_apigatewayv2_integration`](apigatewayv2_integration.html) resource.\n\nThe `request_parameter` object supports the following:\n\n* `request_parameter_key` - (Required) Request parameter key. This is a [request data mapping parameter](https://docs.aws.amazon.com/apigateway/latest/developerguide/websocket-api-data-mapping.html#websocket-mapping-request-parameters).\n* `required` - (Required) Boolean whether or not the parameter is required.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - Route identifier.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import `aws_apigatewayv2_route` using the API identifier and route identifier. For example:\n\n```terraform\nimport {\n  to = aws_apigatewayv2_route.example\n  id = \"aabbccddee/1122334\"\n}\n```\n\nUsing `terraform import`, import `aws_apigatewayv2_route` using the API identifier and route identifier. For example:\n\n```console\n% terraform import aws_apigatewayv2_route.example aabbccddee/1122334\n```\n\n-> **Note:** The API Gateway managed route created as part of [_quick_create_](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-basic-concept.html#apigateway-definition-quick-create) cannot be imported.\n",
      "language": "hcl",
      "path": "website/docs/r/apigatewayv2_route.html.markdown",
      "slug": "apigatewayv2_route",
      "subcategory": "API Gateway V2",
      "title": "apigatewayv2_route",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3224872"
    }
  }
}