{
  "data": {
    "type": "provider-docs",
    "id": "3225135",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"VPC (Virtual Private Cloud)\"\nlayout: \"aws\"\npage_title: \"AWS: aws_default_route_table\"\ndescription: |-\n  Provides a resource to manage a default route table of a VPC.\n---\n\n# Resource: aws_default_route_table\n\nProvides a resource to manage a default route table of a VPC. This resource can manage the default route table of the default or a non-default VPC.\n\n~> **NOTE:** This is an advanced resource with special caveats. Please read this document in its entirety before using this resource. The `aws_default_route_table` resource behaves differently from normal resources. Terraform does not _create_ this resource but instead attempts to \"adopt\" it into management. **Do not** use both `aws_default_route_table` to manage a default route table **and** `aws_main_route_table_association` with the same VPC due to possible route conflicts. See [aws_main_route_table_association][tf-main-route-table-association] documentation for more details.\n\nEvery VPC has a default route table that can be managed but not destroyed. When Terraform first adopts a default route table, it **immediately removes all defined routes**. It then proceeds to create any routes specified in the configuration. This step is required so that only the routes specified in the configuration exist in the default route table.\n\nFor more information, see the Amazon VPC User Guide on [Route Tables](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html). For information about managing normal route tables in Terraform, see [`aws_route_table`](/docs/providers/aws/r/route_table.html).\n\n## Example Usage\n\n```terraform\nresource \"aws_default_route_table\" \"example\" {\n  default_route_table_id = aws_vpc.example.default_route_table_id\n\n  route {\n    cidr_block = \"10.0.1.0/24\"\n    gateway_id = aws_internet_gateway.example.id\n  }\n\n  route {\n    ipv6_cidr_block        = \"::/0\"\n    egress_only_gateway_id = aws_egress_only_internet_gateway.example.id\n  }\n\n  tags = {\n    Name = \"example\"\n  }\n}\n```\n\nTo subsequently remove all managed routes:\n\n```terraform\nresource \"aws_default_route_table\" \"example\" {\n  default_route_table_id = aws_vpc.example.default_route_table_id\n\n  route = []\n\n  tags = {\n    Name = \"example\"\n  }\n}\n```\n\n## Argument Reference\n\nThe following arguments are required:\n\n* `default_route_table_id` - (Required) ID of the default route table.\n\nThe following arguments are optional:\n\n* `propagating_vgws` - (Optional) List of virtual gateways for propagation.\n* `route` - (Optional) Configuration block of routes. Detailed below. This argument is processed in [attribute-as-blocks mode](https://www.terraform.io/docs/configuration/attr-as-blocks.html). This means that omitting this argument is interpreted as ignoring any existing routes. To remove all managed routes an empty list should be specified. See the example above.\n* `tags` - (Optional) Map of tags to assign to the resource. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n### route\n\nThis argument is processed in [attribute-as-blocks mode](https://www.terraform.io/docs/configuration/attr-as-blocks.html).\n\nOne of the following destination arguments must be supplied:\n\n* `cidr_block` - (Required) The CIDR block of the route.\n* `ipv6_cidr_block` - (Optional) The Ipv6 CIDR block of the route\n* `destination_prefix_list_id` - (Optional) The ID of a [managed prefix list](ec2_managed_prefix_list.html) destination of the route.\n\nOne of the following target arguments must be supplied:\n\n* `core_network_arn` - (Optional) The Amazon Resource Name (ARN) of a core network.\n* `egress_only_gateway_id` - (Optional) Identifier of a VPC Egress Only Internet Gateway.\n* `gateway_id` - (Optional) Identifier of a VPC internet gateway or a virtual private gateway.\n* `instance_id` - (Optional) Identifier of an EC2 instance.\n* `nat_gateway_id` - (Optional) Identifier of a VPC NAT gateway.\n* `network_interface_id` - (Optional) Identifier of an EC2 network interface.\n* `transit_gateway_id` - (Optional) Identifier of an EC2 Transit Gateway.\n* `vpc_endpoint_id` - (Optional) Identifier of a VPC Endpoint. This route must be removed prior to VPC Endpoint deletion.\n* `vpc_peering_connection_id` - (Optional) Identifier of a VPC peering connection.\n\nNote that the default route, mapping the VPC's CIDR block to \"local\", is created implicitly and cannot be specified.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - ID of the route table.\n* `arn` - The ARN of the route table.\n* `owner_id` - ID of the AWS account that owns the route table.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n* `vpc_id` - ID of the VPC.\n\n## Timeouts\n\n[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):\n\n- `create` - (Default `2m`)\n- `update` - (Default `2m`)\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Default VPC route tables using the `vpc_id`. For example:\n\n```terraform\nimport {\n  to = aws_default_route_table.example\n  id = \"vpc-33cc44dd\"\n}\n```\n\nUsing `terraform import`, import Default VPC route tables using the `vpc_id`. For example:\n\n```console\n% terraform import aws_default_route_table.example vpc-33cc44dd\n```\n\n[tf-main-route-table-association]: /docs/providers/aws/r/main_route_table_association.html\n",
      "language": "hcl",
      "path": "website/docs/r/default_route_table.html.markdown",
      "slug": "default_route_table",
      "subcategory": "VPC (Virtual Private Cloud)",
      "title": "default_route_table",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225135"
    }
  }
}