{
  "data": {
    "type": "provider-docs",
    "id": "3225334",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"GameLift\"\nlayout: \"aws\"\npage_title: \"AWS: aws_gamelift_game_server_group\"\ndescription: |-\n  Provides a GameLift Game Server Group resource.\n---\n\n# Resource: aws_gamelift_game_server_group\n\nProvides an GameLift Game Server Group resource.\n\n## Example Usage\n\n```terraform\nresource \"aws_gamelift_game_server_group\" \"example\" {\n  game_server_group_name = \"example\"\n\n  instance_definition {\n    instance_type = \"c5.large\"\n  }\n\n  instance_definition {\n    instance_type = \"c5a.large\"\n  }\n\n  launch_template {\n    id = aws_launch_template.example.id\n  }\n\n  max_size = 1\n  min_size = 1\n  role_arn = aws_iam_role.example.arn\n\n  depends_on = [\n    aws_iam_role_policy_attachment.example\n  ]\n}\n```\n\nFull usage:\n\n```terraform\nresource \"aws_gamelift_game_server_group\" \"example\" {\n  auto_scaling_policy {\n    estimated_instance_warmup = 60\n    target_tracking_configuration {\n      target_value = 75\n    }\n  }\n\n  balancing_strategy            = \"SPOT_ONLY\"\n  game_server_group_name        = \"example\"\n  game_server_protection_policy = \"FULL_PROTECTION\"\n\n  instance_definition {\n    instance_type     = \"c5.large\"\n    weighted_capacity = \"1\"\n  }\n\n  instance_definition {\n    instance_type     = \"c5.2xlarge\"\n    weighted_capacity = \"2\"\n  }\n\n  launch_template {\n    id      = aws_launch_template.example.id\n    version = \"1\"\n  }\n\n  max_size = 1\n  min_size = 1\n  role_arn = aws_iam_role.example.arn\n\n  tags = {\n    Name = \"example\"\n  }\n\n  vpc_subnets = [\n    \"subnet-12345678\",\n    \"subnet-23456789\"\n  ]\n\n  depends_on = [\n    aws_iam_role_policy_attachment.example\n  ]\n}\n```\n\n### Example IAM Role for GameLift Game Server Group\n\n```terraform\ndata \"aws_partition\" \"current\" {}\n\ndata \"aws_iam_policy_document\" \"assume_role\" {\n  statement {\n    effect = \"Allow\"\n\n    principals {\n      type = \"Service\"\n\n      identifiers = [\n        \"autoscaling.amazonaws.com\",\n        \"gamelift.amazonaws.com\",\n      ]\n    }\n\n    actions = [\"sts:AssumeRole\"]\n  }\n}\n\nresource \"aws_iam_role\" \"example\" {\n  assume_role_policy = data.aws_iam_policy_document.assume_role.json\n  name               = \"gamelift-game-server-group-example\"\n}\n\nresource \"aws_iam_role_policy_attachment\" \"example\" {\n  policy_arn = \"arn:${data.aws_partition.current.partition}:iam::aws:policy/GameLiftGameServerGroupPolicy\"\n  role       = aws_iam_role.example.name\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `balancing_strategy` - (Optional) Indicates how GameLift FleetIQ balances the use of Spot Instances and On-Demand Instances.\n  Valid values: `SPOT_ONLY`, `SPOT_PREFERRED`, `ON_DEMAND_ONLY`. Defaults to `SPOT_PREFERRED`.\n* `game_server_group_name` - (Required) Name of the game server group.\n  This value is used to generate unique ARN identifiers for the EC2 Auto Scaling group and the GameLift FleetIQ game server group.\n* `game_server_protection_policy` - (Optional) Indicates whether instances in the game server group are protected from early termination.\n  Unprotected instances that have active game servers running might be terminated during a scale-down event,\n  causing players to be dropped from the game.\n  Protected instances cannot be terminated while there are active game servers running except in the event\n  of a forced game server group deletion.\n  Valid values: `NO_PROTECTION`, `FULL_PROTECTION`. Defaults to `NO_PROTECTION`.\n* `max_size` - (Required) The maximum number of instances allowed in the EC2 Auto Scaling group.\n  During automatic scaling events, GameLift FleetIQ and EC2 do not scale up the group above this maximum.\n* `min_size` - (Required) The minimum number of instances allowed in the EC2 Auto Scaling group.\n  During automatic scaling events, GameLift FleetIQ and EC2 do not scale down the group below this minimum.\n* `role_arn` - (Required) ARN for an IAM role that allows Amazon GameLift to access your EC2 Auto Scaling groups.\n* `tags` - (Optional) Key-value map of resource tags\n* `vpc_subnets` - (Optional) A list of VPC subnets to use with instances in the game server group.\n  By default, all GameLift FleetIQ-supported Availability Zones are used.\n\n### `auto_scaling_policy`\n\nConfiguration settings to define a scaling policy for the Auto Scaling group that is optimized for game hosting.\nThe scaling policy uses the metric `PercentUtilizedGameServers` to maintain a buffer of idle game servers that\ncan immediately accommodate new games and players.\n\n* `estimated_instance_warmup` - (Optional) Length of time, in seconds, it takes for a new instance to start\n  new game server processes and register with GameLift FleetIQ.\n  Specifying a warm-up time can be useful, particularly with game servers that take a long time to start up,\n  because it avoids prematurely starting new instances. Defaults to `60`.\n\n#### `target_tracking_configuration`\n\nSettings for a target-based scaling policy applied to Auto Scaling group.\nThese settings are used to create a target-based policy that tracks the GameLift FleetIQ metric `PercentUtilizedGameServers`\nand specifies a target value for the metric.\n\n* `target_value` - (Required) Desired value to use with a game server group target-based scaling policy.\n\n### `instance_definition`\n\nThe EC2 instance types and sizes to use in the Auto Scaling group.\nThe instance definitions must specify at least two different instance types that are supported by GameLift FleetIQ.\n\n* `instance_type` - (Required) An EC2 instance type.\n* `weighted_capacity` - (Optional) Instance weighting that indicates how much this instance type contributes\n  to the total capacity of a game server group.\n  Instance weights are used by GameLift FleetIQ to calculate the instance type's cost per unit hour and better identify\n  the most cost-effective options.\n\n### `launch_template`\n\nThe EC2 launch template that contains configuration settings and game server code to be deployed to all instances in the game server group.\nYou can specify the template using either the template name or ID.\n\n* `id` - (Optional) A unique identifier for an existing EC2 launch template.\n* `name` - (Optional) A readable identifier for an existing EC2 launch template.\n* `version` - (Optional) The version of the EC2 launch template to use. If none is set, the default is the first version created.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - The name of the GameLift Game Server Group.\n* `arn` - The ARN of the GameLift Game Server Group.\n* `auto_scaling_group_arn` - The ARN of the created EC2 Auto Scaling group.\n\n## Timeouts\n\n[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):\n\n* `create` - (Default `10m`)\n* `delete` - (Default `30m`)\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import GameLift Game Server Group using the `name`. For example:\n\n```terraform\nimport {\n  to = aws_gamelift_game_server_group.example\n  id = \"example\"\n}\n```\n\nUsing `terraform import`, import GameLift Game Server Group using the `name`. For example:\n\n```console\n% terraform import aws_gamelift_game_server_group.example example\n```\n",
      "language": "hcl",
      "path": "website/docs/r/gamelift_game_server_group.html.markdown",
      "slug": "gamelift_game_server_group",
      "subcategory": "GameLift",
      "title": "gamelift_game_server_group",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225334"
    }
  }
}