{
  "data": {
    "type": "provider-docs",
    "id": "3198169",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Connect\"\nlayout: \"aws\"\npage_title: \"AWS: aws_connect_instance_storage_config\"\ndescription: |-\n  Provides details about a specific Amazon Connect Instance Storage Config.\n---\n\n# Resource: aws_connect_instance_storage_config\n\nProvides an Amazon Connect Instance Storage Config resource. For more information see\n[Amazon Connect: Getting Started](https://docs.aws.amazon.com/connect/latest/adminguide/amazon-connect-get-started.html)\n\n## Example Usage\n\n### Storage Config Kinesis Firehose Config\n\n```terraform\nresource \"aws_connect_instance_storage_config\" \"example\" {\n  instance_id   = aws_connect_instance.example.id\n  resource_type = \"CONTACT_TRACE_RECORDS\"\n\n  storage_config {\n    kinesis_firehose_config {\n      firehose_arn = aws_kinesis_firehose_delivery_stream.example.arn\n    }\n    storage_type = \"KINESIS_FIREHOSE\"\n  }\n}\n```\n\n### Storage Config Kinesis Stream Config\n\n```terraform\nresource \"aws_connect_instance_storage_config\" \"example\" {\n  instance_id   = aws_connect_instance.example.id\n  resource_type = \"CONTACT_TRACE_RECORDS\"\n\n  storage_config {\n    kinesis_stream_config {\n      stream_arn = aws_kinesis_stream.example.arn\n    }\n    storage_type = \"KINESIS_STREAM\"\n  }\n}\n```\n\n### Storage Config Kinesis Video Stream Config\n\n```terraform\nresource \"aws_connect_instance_storage_config\" \"example\" {\n  instance_id   = aws_connect_instance.example.id\n  resource_type = \"MEDIA_STREAMS\"\n\n  storage_config {\n    kinesis_video_stream_config {\n      prefix                 = \"example\"\n      retention_period_hours = 3\n\n      encryption_config {\n        encryption_type = \"KMS\"\n        key_id          = aws_kms_key.example.arn\n      }\n    }\n    storage_type = \"KINESIS_VIDEO_STREAM\"\n  }\n}\n```\n\n### Storage Config S3 Config\n\n```terraform\nresource \"aws_connect_instance_storage_config\" \"example\" {\n  instance_id   = aws_connect_instance.example.id\n  resource_type = \"CHAT_TRANSCRIPTS\"\n\n  storage_config {\n    s3_config {\n      bucket_name   = aws_s3_bucket.example.id\n      bucket_prefix = \"example\"\n    }\n    storage_type = \"S3\"\n  }\n}\n```\n\n### Storage Config S3 Config with Encryption Config\n\n```terraform\nresource \"aws_connect_instance_storage_config\" \"example\" {\n  instance_id   = aws_connect_instance.example.id\n  resource_type = \"CHAT_TRANSCRIPTS\"\n\n  storage_config {\n    s3_config {\n      bucket_name   = aws_s3_bucket.example.id\n      bucket_prefix = \"example\"\n\n      encryption_config {\n        encryption_type = \"KMS\"\n        key_id          = aws_kms_key.example.arn\n      }\n    }\n    storage_type = \"S3\"\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `instance_id` - (Required) Specifies the identifier of the hosting Amazon Connect Instance.\n* `resource_type` - (Required) A valid resource type. Valid Values: `AGENT_EVENTS` | `ATTACHMENTS` | `CALL_RECORDINGS` | `CHAT_TRANSCRIPTS` | `CONTACT_EVALUATIONS` | `CONTACT_TRACE_RECORDS` | `MEDIA_STREAMS` | `REAL_TIME_CONTACT_ANALYSIS_SEGMENTS` | `SCHEDULED_REPORTS` | `SCREEN_RECORDINGS`.\n* `storage_config` - (Required) Specifies the storage configuration options for the Connect Instance. [Documented below](#storage_config).\n\n### `storage_config`\n\nThe `storage_config` configuration block supports the following arguments:\n\n* `kinesis_firehose_config` - (Required if `type` is set to `KINESIS_FIREHOSE`) A block that specifies the configuration of the Kinesis Firehose delivery stream. [Documented below](#kinesis_firehose_config).\n* `kinesis_stream_config` - (Required if `type` is set to `KINESIS_STREAM`) A block that specifies the configuration of the Kinesis data stream. [Documented below](#kinesis_stream_config).\n* `kinesis_video_stream_config` - (Required if `type` is set to `KINESIS_VIDEO_STREAM`) A block that specifies the configuration of the Kinesis video stream. [Documented below](#kinesis_video_stream_config).\n* `s3_config` - (Required if `type` is set to `S3`) A block that specifies the configuration of S3 Bucket. [Documented below](#s3_config).\n* `storage_type` - (Required) A valid storage type. Valid Values: `S3` | `KINESIS_VIDEO_STREAM` | `KINESIS_STREAM` | `KINESIS_FIREHOSE`.\n\n#### `kinesis_firehose_config`\n\nThe `kinesis_firehose_config` configuration block supports the following arguments:\n\n* `firehose_arn` - (Required) The Amazon Resource Name (ARN) of the delivery stream.\n\n#### `kinesis_stream_config`\n\nThe `kinesis_stream_config` configuration block supports the following arguments:\n\n* `stream_arn` - (Required) The Amazon Resource Name (ARN) of the data stream.\n\n#### `kinesis_video_stream_config`\n\nThe `kinesis_video_stream_config` configuration block supports the following arguments:\n\n* `encryption_config` - (Required) The encryption configuration. [Documented below](#encryption_config).\n* `prefix` - (Required) The prefix of the video stream. Minimum length of `1`. Maximum length of `128`. When read from the state, the value returned is `<prefix>-connect-<connect_instance_alias>-contact-` since the API appends additional details to the `prefix`.\n* `retention_period_hours` - (Required) The number of hours data is retained in the stream. Kinesis Video Streams retains the data in a data store that is associated with the stream. Minimum value of `0`. Maximum value of `87600`. A value of `0`, indicates that the stream does not persist data.\n\n#### `s3_config`\n\nThe `s3_config` configuration block supports the following arguments:\n\n* `bucket_name` - (Required) The S3 bucket name.\n* `bucket_prefix` - (Required) The S3 bucket prefix.\n* `encryption_config` - (Optional) The encryption configuration. [Documented below](#encryption_config).\n\n#### `encryption_config`\n\nThe `encryption_config` configuration block supports the following arguments:\n\n* `encryption_type` - (Required) The type of encryption. Valid Values: `KMS`.\n* `key_id` - (Required) The full ARN of the encryption key. Be sure to provide the full ARN of the encryption key, not just the ID.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `association_id` - The existing association identifier that uniquely identifies the resource type and storage config for the given instance ID.\n* `id` - The identifier of the hosting Amazon Connect Instance, `association_id`, and `resource_type` separated by a colon (`:`).\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Amazon Connect Instance Storage Configs using the `instance_id`, `association_id`, and `resource_type` separated by a colon (`:`). For example:\n\n```terraform\nimport {\n  to = aws_connect_instance_storage_config.example\n  id = \"f1288a1f-6193-445a-b47e-af739b2:c1d4e5f6-1b3c-1b3c-1b3c-c1d4e5f6c1d4e5:CHAT_TRANSCRIPTS\"\n}\n```\n\nUsing `terraform import`, import Amazon Connect Instance Storage Configs using the `instance_id`, `association_id`, and `resource_type` separated by a colon (`:`). For example:\n\n```console\n% terraform import aws_connect_instance_storage_config.example f1288a1f-6193-445a-b47e-af739b2:c1d4e5f6-1b3c-1b3c-1b3c-c1d4e5f6c1d4e5:CHAT_TRANSCRIPTS\n```\n",
      "language": "hcl",
      "path": "website/docs/r/connect_instance_storage_config.html.markdown",
      "slug": "connect_instance_storage_config",
      "subcategory": "Connect",
      "title": "connect_instance_storage_config",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3198169"
    }
  }
}