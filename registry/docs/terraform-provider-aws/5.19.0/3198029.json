{
  "data": {
    "type": "provider-docs",
    "id": "3198029",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Backup\"\nlayout: \"aws\"\npage_title: \"AWS: aws_backup_plan\"\ndescription: |-\n  Provides an AWS Backup plan resource.\n---\n\n# Resource: aws_backup_plan\n\nProvides an AWS Backup plan resource.\n\n## Example Usage\n\n```terraform\nresource \"aws_backup_plan\" \"example\" {\n  name = \"tf_example_backup_plan\"\n\n  rule {\n    rule_name         = \"tf_example_backup_rule\"\n    target_vault_name = aws_backup_vault.test.name\n    schedule          = \"cron(0 12 * * ? *)\"\n\n    lifecycle {\n      delete_after = 14\n    }\n  }\n\n  advanced_backup_setting {\n    backup_options = {\n      WindowsVSS = \"enabled\"\n    }\n    resource_type = \"EC2\"\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `name` - (Required) The display name of a backup plan.\n* `rule` - (Required) A rule object that specifies a scheduled task that is used to back up a selection of resources.\n* `advanced_backup_setting` - (Optional) An object that specifies backup options for each resource type.\n* `tags` - (Optional) Metadata that you can assign to help organize the plans you create. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n### Rule Arguments\n\n`rule` supports the following attributes:\n\n* `rule_name` - (Required) An display name for a backup rule.\n* `target_vault_name` - (Required) The name of a logical container where backups are stored.\n* `schedule` - (Optional) A CRON expression specifying when AWS Backup initiates a backup job.\n* `enable_continuous_backup` - (Optional) Enable continuous backups for supported resources.\n* `start_window` - (Optional) The amount of time in minutes before beginning a backup.\n* `completion_window` - (Optional) The amount of time in minutes AWS Backup attempts a backup before canceling the job and returning an error.\n* `lifecycle` - (Optional) The lifecycle defines when a protected resource is transitioned to cold storage and when it expires.  Fields documented below.\n* `recovery_point_tags` - (Optional) Metadata that you can assign to help organize the resources that you create.\n* `copy_action` - (Optional) Configuration block(s) with copy operation settings. Detailed below.\n\n### Lifecycle Arguments\n\n`lifecycle` supports the following attributes:\n\n* `cold_storage_after` - (Optional) Specifies the number of days after creation that a recovery point is moved to cold storage.\n* `delete_after` - (Optional) Specifies the number of days after creation that a recovery point is deleted. Must be 90 days greater than `cold_storage_after`.\n\n### Copy Action Arguments\n\n`copy_action` supports the following attributes:\n\n* `lifecycle` - (Optional) The lifecycle defines when a protected resource is copied over to a backup vault and when it expires.  Fields documented above.\n* `destination_vault_arn` - (Required) An Amazon Resource Name (ARN) that uniquely identifies the destination backup vault for the copied backup.\n\n### Advanced Backup Setting Arguments\n\n`advanced_backup_setting` supports the following arguments:\n\n* `backup_options` - (Required) Specifies the backup option for a selected resource. This option is only available for Windows VSS backup jobs. Set to `{ WindowsVSS = \"enabled\" }` to enable Windows VSS backup option and create a VSS Windows backup.\n* `resource_type` - (Required) The type of AWS resource to be backed up. For VSS Windows backups, the only supported resource type is Amazon EC2. Valid values: `EC2`.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - The id of the backup plan.\n* `arn` - The ARN of the backup plan.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n* `version` - Unique, randomly generated, Unicode, UTF-8 encoded string that serves as the version ID of the backup plan.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Backup Plan using the `id`. For example:\n\n```terraform\nimport {\n  to = aws_backup_plan.test\n  id = \"<id>\"\n}\n```\n\nUsing `terraform import`, import Backup Plan using the `id`. For example:\n\n```console\n% terraform import aws_backup_plan.test <id>\n```\n",
      "language": "hcl",
      "path": "website/docs/r/backup_plan.html.markdown",
      "slug": "backup_plan",
      "subcategory": "Backup",
      "title": "backup_plan",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3198029"
    }
  }
}