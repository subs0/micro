{
  "data": {
    "type": "provider-docs",
    "id": "3197999",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"AppSync\"\nlayout: \"aws\"\npage_title: \"AWS: aws_appsync_datasource\"\ndescription: |-\n  Provides an AppSync Data Source.\n---\n\n# Resource: aws_appsync_datasource\n\nProvides an AppSync Data Source.\n\n## Example Usage\n\n```terraform\nresource \"aws_dynamodb_table\" \"example\" {\n  name           = \"example\"\n  read_capacity  = 1\n  write_capacity = 1\n  hash_key       = \"UserId\"\n\n  attribute {\n    name = \"UserId\"\n    type = \"S\"\n  }\n}\n\ndata \"aws_iam_policy_document\" \"assume_role\" {\n  statement {\n    effect = \"Allow\"\n\n    principals {\n      type        = \"Service\"\n      identifiers = [\"appsync.amazonaws.com\"]\n    }\n\n    actions = [\"sts:AssumeRole\"]\n  }\n}\nresource \"aws_iam_role\" \"example\" {\n  name               = \"example\"\n  assume_role_policy = data.aws_iam_policy_document.assume_role.json\n}\n\ndata \"aws_iam_policy_document\" \"example\" {\n  statement {\n    effect    = \"Allow\"\n    actions   = [\"dynamodb:*\"]\n    resources = [aws_dynamodb_table.example.arn]\n  }\n}\n\nresource \"aws_iam_role_policy\" \"example\" {\n  name   = \"example\"\n  role   = aws_iam_role.example.id\n  policy = data.aws_iam_policy_document.example.json\n}\n\nresource \"aws_appsync_graphql_api\" \"example\" {\n  authentication_type = \"API_KEY\"\n  name                = \"tf_appsync_example\"\n}\n\nresource \"aws_appsync_datasource\" \"example\" {\n  api_id           = aws_appsync_graphql_api.example.id\n  name             = \"tf_appsync_example\"\n  service_role_arn = aws_iam_role.example.arn\n  type             = \"AMAZON_DYNAMODB\"\n\n  dynamodb_config {\n    table_name = aws_dynamodb_table.example.name\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `api_id` - (Required) API ID for the GraphQL API for the data source.\n* `name` - (Required) User-supplied name for the data source.\n* `type` - (Required) Type of the Data Source. Valid values: `AWS_LAMBDA`, `AMAZON_DYNAMODB`, `AMAZON_ELASTICSEARCH`, `HTTP`, `NONE`, `RELATIONAL_DATABASE`, `AMAZON_EVENTBRIDGE`, `AMAZON_OPENSEARCH_SERVICE`.\n* `description` - (Optional) Description of the data source.\n* `dynamodb_config` - (Optional) DynamoDB settings. See [DynamoDB Config](#dynamodb-config)\n* `elasticsearch_config` - (Optional) Amazon Elasticsearch settings. See [ElasticSearch Config](#elasticsearch-config)\n* `event_bridge_config` - (Optional) AWS EventBridge settings. See [Event Bridge Config](#event-bridge-config)\n* `http_config` - (Optional) HTTP settings. See [HTTP Config](#http-config)\n* `lambda_config` - (Optional) AWS Lambda settings. See [Lambda Config](#lambda-config)\n* `opensearchservice_config` - (Optional) Amazon OpenSearch Service settings. See [OpenSearch Service Config](#opensearch-service-config)\n* `relational_database_config` (Optional) AWS RDS settings. See [Relational Database Config](#relational-database-config)\n* `service_role_arn` - (Optional) IAM service role ARN for the data source.\n\n### DynamoDB Config\n\nThis argument supports the following arguments:\n\n* `table_name` - (Required) Name of the DynamoDB table.\n* `region` - (Optional) AWS region of the DynamoDB table. Defaults to current region.\n* `use_caller_credentials` - (Optional) Set to `true` to use Amazon Cognito credentials with this data source.\n* `delta_sync_config` - (Optional) The DeltaSyncConfig for a versioned data source. See [Delta Sync Config](#delta-sync-config)\n* `versioned` - (Optional) Detects Conflict Detection and Resolution with this data source.\n\n### Delta Sync Config\n\n* `base_table_ttl` - (Optional) The number of minutes that an Item is stored in the data source.\n* `delta_sync_table_name` - (Required) The table name.\n* `delta_sync_table_ttl` - (Optional) The number of minutes that a Delta Sync log entry is stored in the Delta Sync table.\n\n### ElasticSearch Config\n\nThis argument supports the following arguments:\n\n* `endpoint` - (Required) HTTP endpoint of the Elasticsearch domain.\n* `region` - (Optional) AWS region of Elasticsearch domain. Defaults to current region.\n\n### Event Bridge Config\n\nThis argument supports the following arguments:\n\n* `event_bus_arn` - (Required) ARN for the EventBridge bus.\n\n### HTTP Config\n\nThis argument supports the following arguments:\n\n* `endpoint` - (Required) HTTP URL.\n* `authorization_config` - (Optional) Authorization configuration in case the HTTP endpoint requires authorization. See [Authorization Config](#authorization-config).\n\n#### Authorization Config\n\nThis argument supports the following arguments:\n\n* `authorization_type` - (Optional) Authorization type that the HTTP endpoint requires. Default values is `AWS_IAM`.\n* `aws_iam_config` - (Optional) Identity and Access Management (IAM) settings. See [AWS IAM Config](#aws-iam-config).\n\n##### AWS IAM Config\n\nThis argument supports the following arguments:\n\n* `signing_region` - (Optional) Signing Amazon Web Services Region for IAM authorization.\n* `signing_service_name`- (Optional) Signing service name for IAM authorization.\n\n### Lambda Config\n\nThis argument supports the following arguments:\n\n* `function_arn` - (Required) ARN for the Lambda function.\n\n### OpenSearch Service Config\n\nThis argument supports the following arguments:\n\n* `endpoint` - (Required) HTTP endpoint of the OpenSearch domain.\n* `region` - (Optional) AWS region of the OpenSearch domain. Defaults to current region.\n\n### Relational Database Config\n\nThis argument supports the following arguments:\n\n* `http_endpoint_config` - (Required) Amazon RDS HTTP endpoint configuration. See [HTTP Endpoint Config](#http-endpoint-config).\n* `source_type` - (Optional) Source type for the relational database. Valid values: `RDS_HTTP_ENDPOINT`.\n\n#### HTTP Endpoint Config\n\nThis argument supports the following arguments:\n\n* `db_cluster_identifier` - (Required) Amazon RDS cluster identifier.\n* `aws_secret_store_arn` - (Required) AWS secret store ARN for database credentials.\n* `database_name` - (Optional) Logical database name.\n* `region` - (Optional) AWS Region for RDS HTTP endpoint. Defaults to current region.\n* `schema` - (Optional) Logical schema name.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `arn` - ARN\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import `aws_appsync_datasource` using the `api_id`, a hyphen, and `name`. For example:\n\n```terraform\nimport {\n  to = aws_appsync_datasource.example\n  id = \"abcdef123456-example\"\n}\n```\n\nUsing `terraform import`, import `aws_appsync_datasource` using the `api_id`, a hyphen, and `name`. For example:\n\n```console\n% terraform import aws_appsync_datasource.example abcdef123456-example\n```\n",
      "language": "hcl",
      "path": "website/docs/r/appsync_datasource.html.markdown",
      "slug": "appsync_datasource",
      "subcategory": "AppSync",
      "title": "appsync_datasource",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3197999"
    }
  }
}