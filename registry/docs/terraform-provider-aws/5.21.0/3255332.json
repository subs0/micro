{
  "data": {
    "type": "provider-docs",
    "id": "3255332",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"EC2 Image Builder\"\nlayout: \"aws\"\npage_title: \"AWS: aws_imagebuilder_image_recipe\"\ndescription: |-\n    Manage an Image Builder Image Recipe\n---\n\n# Resource: aws_imagebuilder_image_recipe\n\nManages an Image Builder Image Recipe.\n\n## Example Usage\n\n```terraform\nresource \"aws_imagebuilder_image_recipe\" \"example\" {\n  block_device_mapping {\n    device_name = \"/dev/xvdb\"\n\n    ebs {\n      delete_on_termination = true\n      volume_size           = 100\n      volume_type           = \"gp2\"\n    }\n  }\n\n  component {\n    component_arn = aws_imagebuilder_component.example.arn\n\n    parameter {\n      name  = \"Parameter1\"\n      value = \"Value1\"\n    }\n\n    parameter {\n      name  = \"Parameter2\"\n      value = \"Value2\"\n    }\n  }\n\n  name         = \"example\"\n  parent_image = \"arn:${data.aws_partition.current.partition}:imagebuilder:${data.aws_region.current.name}:aws:image/amazon-linux-2-x86/x.x.x\"\n  version      = \"1.0.0\"\n}\n```\n\n## Argument Reference\n\nThe following arguments are required:\n\n* `component` - Ordered configuration block(s) with components for the image recipe. Detailed below.\n* `name` - Name of the image recipe.\n* `parent_image` - The image recipe uses this image as a base from which to build your customized image. The value can be the base image ARN or an AMI ID.\n* `version` - The semantic version of the image recipe, which specifies the version in the following format, with numeric values in each position to indicate a specific version: major.minor.patch. For example: 1.0.0.\n\nThe following attributes are optional:\n\n* `block_device_mapping` - Configuration block(s) with block device mappings for the image recipe. Detailed below.\n* `description` - Description of the image recipe.\n* `systems_manager_agent` - Configuration block for the Systems Manager Agent installed by default by Image Builder. Detailed below.\n* `tags` - Key-value map of resource tags for the image recipe. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n* `user_data_base64` Base64 encoded user data. Use this to provide commands or a command script to run when you launch your build instance.\n* `working_directory` - The working directory to be used during build and test workflows.\n\n### block_device_mapping\n\nThe following arguments are optional:\n\n* `device_name` - Name of the device. For example, `/dev/sda` or `/dev/xvdb`.\n* `ebs` - Configuration block with Elastic Block Storage (EBS) block device mapping settings. Detailed below.\n* `no_device` - Set to `true` to remove a mapping from the parent image.\n* `virtual_name` - Virtual device name. For example, `ephemeral0`. Instance store volumes are numbered starting from 0.\n\n#### ebs\n\nThe following arguments are optional:\n\n* `delete_on_termination` - Whether to delete the volume on termination. Defaults to unset, which is the value inherited from the parent image.\n* `encrypted` - Whether to encrypt the volume. Defaults to unset, which is the value inherited from the parent image.\n* `iops` - Number of Input/Output (I/O) operations per second to provision for an `io1` or `io2` volume.\n* `kms_key_id` - Amazon Resource Name (ARN) of the Key Management Service (KMS) Key for encryption.\n* `snapshot_id` - Identifier of the EC2 Volume Snapshot.\n* `throughput` - For GP3 volumes only. The throughput in MiB/s that the volume supports.\n* `volume_size` - Size of the volume, in GiB.\n* `volume_type` - Type of the volume. For example, `gp2` or `io2`.\n\n### component\n\nThe `component` block supports the following arguments:\n\n* `component_arn` - (Required) Amazon Resource Name (ARN) of the Image Builder Component to associate.\n* `parameter` - (Optional) Configuration block(s) for parameters to configure the component. Detailed below.\n\n### parameter\n\nThe following arguments are required:\n\n* `name` - The name of the component parameter.\n* `value` - The value for the named component parameter.\n\n### systems_manager_agent\n\nThe following arguments are required:\n\n* `uninstall_after_build` - Whether to remove the Systems Manager Agent after the image has been built. Defaults to `false`.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `arn` - (Required) Amazon Resource Name (ARN) of the image recipe.\n* `date_created` - Date the image recipe was created.\n* `owner` - Owner of the image recipe.\n* `platform` - Platform of the image recipe.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import `aws_imagebuilder_image_recipe` resources using the Amazon Resource Name (ARN). For example:\n\n```terraform\nimport {\n  to = aws_imagebuilder_image_recipe.example\n  id = \"arn:aws:imagebuilder:us-east-1:123456789012:image-recipe/example/1.0.0\"\n}\n```\n\nUsing `terraform import`, import `aws_imagebuilder_image_recipe` resources using the Amazon Resource Name (ARN). For example:\n\n```console\n% terraform import aws_imagebuilder_image_recipe.example arn:aws:imagebuilder:us-east-1:123456789012:image-recipe/example/1.0.0\n```\n",
      "language": "hcl",
      "path": "website/docs/r/imagebuilder_image_recipe.html.markdown",
      "slug": "imagebuilder_image_recipe",
      "subcategory": "EC2 Image Builder",
      "title": "imagebuilder_image_recipe",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3255332"
    }
  }
}