{
  "data": {
    "type": "provider-docs",
    "id": "3255254",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"S3 Glacier\"\nlayout: \"aws\"\npage_title: \"AWS: aws_glacier_vault\"\ndescription: |-\n  Provides a Glacier Vault.\n---\n\n# Resource: aws_glacier_vault\n\nProvides a Glacier Vault Resource. You can refer to the [Glacier Developer Guide](https://docs.aws.amazon.com/amazonglacier/latest/dev/working-with-vaults.html) for a full explanation of the Glacier Vault functionality\n\n~> **NOTE:** When removing a Glacier Vault, the Vault must be empty.\n\n## Example Usage\n\n```terraform\nresource \"aws_sns_topic\" \"aws_sns_topic\" {\n  name = \"glacier-sns-topic\"\n}\n\ndata \"aws_iam_policy_document\" \"my_archive\" {\n  statement {\n    sid    = \"add-read-only-perm\"\n    effect = \"Allow\"\n\n    principals {\n      type        = \"*\"\n      identifiers = [\"*\"]\n    }\n\n    actions = [\n      \"glacier:InitiateJob\",\n      \"glacier:GetJobOutput\",\n    ]\n\n    resources = [\"arn:aws:glacier:eu-west-1:432981146916:vaults/MyArchive\"]\n  }\n}\n\nresource \"aws_glacier_vault\" \"my_archive\" {\n  name = \"MyArchive\"\n\n  notification {\n    sns_topic = aws_sns_topic.aws_sns_topic.arn\n    events    = [\"ArchiveRetrievalCompleted\", \"InventoryRetrievalCompleted\"]\n  }\n\n  access_policy = data.aws_iam_policy_document.my_archive.json\n\n  tags = {\n    Test = \"MyArchive\"\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `name` - (Required) The name of the Vault. Names can be between 1 and 255 characters long and the valid characters are a-z, A-Z, 0-9, '_' (underscore), '-' (hyphen), and '.' (period).\n* `access_policy` - (Optional) The policy document. This is a JSON formatted string.\n  The heredoc syntax or `file` function is helpful here. Use the [Glacier Developer Guide](https://docs.aws.amazon.com/amazonglacier/latest/dev/vault-access-policy.html) for more information on Glacier Vault Policy\n* `notification` - (Optional) The notifications for the Vault. Fields documented below.\n* `tags` - (Optional) A map of tags to assign to the resource. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n**notification** supports the following:\n\n* `events` - (Required) You can configure a vault to publish a notification for `ArchiveRetrievalCompleted` and `InventoryRetrievalCompleted` events.\n* `sns_topic` - (Required) The SNS Topic ARN.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `location` - The URI of the vault that was created.\n* `arn` - The ARN of the vault.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Glacier Vaults using the `name`. For example:\n\n```terraform\nimport {\n  to = aws_glacier_vault.archive\n  id = \"my_archive\"\n}\n```\n\nUsing `terraform import`, import Glacier Vaults using the `name`. For example:\n\n```console\n% terraform import aws_glacier_vault.archive my_archive\n```\n",
      "language": "hcl",
      "path": "website/docs/r/glacier_vault.html.markdown",
      "slug": "glacier_vault",
      "subcategory": "S3 Glacier",
      "title": "glacier_vault",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3255254"
    }
  }
}