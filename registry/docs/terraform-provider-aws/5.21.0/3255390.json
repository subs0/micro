{
  "data": {
    "type": "provider-docs",
    "id": "3255390",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Lake Formation\"\nlayout: \"aws\"\npage_title: \"AWS: aws_lakeformation_data_lake_settings\"\ndescription: |-\n  Manages data lake administrators and default database and table permissions\n---\n\n# Resource: aws_lakeformation_data_lake_settings\n\nManages Lake Formation principals designated as data lake administrators and lists of principal permission entries for default create database and default create table permissions.\n\n~> **NOTE:** Lake Formation introduces fine-grained access control for data in your data lake. Part of the changes include the `IAMAllowedPrincipals` principal in order to make Lake Formation backwards compatible with existing IAM and Glue permissions. For more information, see [Changing the Default Security Settings for Your Data Lake](https://docs.aws.amazon.com/lake-formation/latest/dg/change-settings.html) and [Upgrading AWS Glue Data Permissions to the AWS Lake Formation Model](https://docs.aws.amazon.com/lake-formation/latest/dg/upgrade-glue-lake-formation.html).\n\n## Example Usage\n\n### Data Lake Admins\n\n```terraform\nresource \"aws_lakeformation_data_lake_settings\" \"example\" {\n  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]\n}\n```\n\n### Create Default Permissions\n\n```terraform\nresource \"aws_lakeformation_data_lake_settings\" \"example\" {\n  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]\n\n  create_database_default_permissions {\n    permissions = [\"SELECT\", \"ALTER\", \"DROP\"]\n    principal   = aws_iam_user.test.arn\n  }\n\n  create_table_default_permissions {\n    permissions = [\"ALL\"]\n    principal   = aws_iam_role.test.arn\n  }\n}\n```\n\n### Enable EMR access to LakeFormation resources\n\n```terraform\nresource \"aws_lakeformation_data_lake_settings\" \"example\" {\n  admins = [aws_iam_user.test.arn, aws_iam_role.test.arn]\n\n  create_database_default_permissions {\n    permissions = [\"SELECT\", \"ALTER\", \"DROP\"]\n    principal   = aws_iam_user.test.arn\n  }\n\n  create_table_default_permissions {\n    permissions = [\"ALL\"]\n    principal   = aws_iam_role.test.arn\n  }\n\n  allow_external_data_filtering      = true\n  external_data_filtering_allow_list = [data.aws_caller_identity.current.account_id, data.aws_caller_identity.third_party.account_id]\n  authorized_session_tag_value_list  = [\"Amazon EMR\"]\n}\n```\n\n## Argument Reference\n\nThe following arguments are optional:\n\n* `admins` – (Optional) Set of ARNs of AWS Lake Formation principals (IAM users or roles).\n* `read_only_admins` – (Optional) Set of ARNs of AWS Lake Formation principals (IAM users or roles) with only view access to the resources.\n* `catalog_id` – (Optional) Identifier for the Data Catalog. By default, the account ID.\n* `create_database_default_permissions` - (Optional) Up to three configuration blocks of principal permissions for default create database permissions. Detailed below.\n* `create_table_default_permissions` - (Optional) Up to three configuration blocks of principal permissions for default create table permissions. Detailed below.\n* `trusted_resource_owners` – (Optional) List of the resource-owning account IDs that the caller's account can use to share their user access details (user ARNs).\n* `allow_external_data_filtering` - (Optional) Whether to allow Amazon EMR clusters to access data managed by Lake Formation.\n* `external_data_filtering_allow_list` - (Optional) A list of the account IDs of Amazon Web Services accounts with Amazon EMR clusters that are to perform data filtering.\n* `authorized_session_tag_value_list` - (Optional) Lake Formation relies on a privileged process secured by Amazon EMR or the third party integrator to tag the user's role while assuming it.\n\n~> **NOTE:** Although optional, not including `admins`, `create_database_default_permissions`, `create_table_default_permissions`, and/or `trusted_resource_owners` results in the setting being cleared.\n\n### create_database_default_permissions\n\nThe following arguments are optional:\n\n* `permissions` - (Optional) List of permissions that are granted to the principal. Valid values may include `ALL`, `SELECT`, `ALTER`, `DROP`, `DELETE`, `INSERT`, `DESCRIBE`, and `CREATE_TABLE`. For more details, see [Lake Formation Permissions Reference](https://docs.aws.amazon.com/lake-formation/latest/dg/lf-permissions-reference.html).\n* `principal` - (Optional) Principal who is granted permissions. To enforce metadata and underlying data access control only by IAM on new databases and tables set `principal` to `IAM_ALLOWED_PRINCIPALS` and `permissions` to `[\"ALL\"]`.\n\n### create_table_default_permissions\n\nThe following arguments are optional:\n\n* `permissions` - (Optional) List of permissions that are granted to the principal. Valid values may include `ALL`, `SELECT`, `ALTER`, `DROP`, `DELETE`, `INSERT`, and `DESCRIBE`. For more details, see [Lake Formation Permissions Reference](https://docs.aws.amazon.com/lake-formation/latest/dg/lf-permissions-reference.html).\n* `principal` - (Optional) Principal who is granted permissions. To enforce metadata and underlying data access control only by IAM on new databases and tables set `principal` to `IAM_ALLOWED_PRINCIPALS` and `permissions` to `[\"ALL\"]`.\n\n## Attribute Reference\n\nThis resource exports no additional attributes.\n",
      "language": "hcl",
      "path": "website/docs/r/lakeformation_data_lake_settings.html.markdown",
      "slug": "lakeformation_data_lake_settings",
      "subcategory": "Lake Formation",
      "title": "lakeformation_data_lake_settings",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3255390"
    }
  }
}