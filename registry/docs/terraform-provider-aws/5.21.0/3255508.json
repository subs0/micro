{
  "data": {
    "type": "provider-docs",
    "id": "3255508",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"VPC (Virtual Private Cloud)\"\nlayout: \"aws\"\npage_title: \"AWS: aws_network_interface_sg_attachment\"\ndescription: |-\n  Associates a security group with a network interface.\n---\n\n# Resource: aws_network_interface_sg_attachment\n\nThis resource attaches a security group to an Elastic Network Interface (ENI).\nIt can be used to attach a security group to any existing ENI, be it a\nsecondary ENI or one attached as the primary interface on an instance.\n\n~> **NOTE on instances, interfaces, and security groups:** Terraform currently\nprovides the capability to assign security groups via the [`aws_instance`][1]\nand the [`aws_network_interface`][2] resources. Using this resource in\nconjunction with security groups provided in-line in those resources will cause\nconflicts, and will lead to spurious diffs and undefined behavior - please use\none or the other.\n\n[1]: /docs/providers/aws/d/instance.html\n[2]: /docs/providers/aws/r/network_interface.html\n\n## Example Usage\n\nThe following provides a very basic example of setting up an instance (provided\nby `instance`) in the default security group, creating a security group\n(provided by `sg`) and then attaching the security group to the instance's\nprimary network interface via the `aws_network_interface_sg_attachment` resource,\nnamed `sg_attachment`:\n\n```terraform\ndata \"aws_ami\" \"ami\" {\n  most_recent = true\n\n  filter {\n    name   = \"name\"\n    values = [\"amzn-ami-hvm-*\"]\n  }\n\n  owners = [\"amazon\"]\n}\n\nresource \"aws_instance\" \"instance\" {\n  instance_type = \"t2.micro\"\n  ami           = data.aws_ami.ami.id\n\n  tags = {\n    type = \"terraform-test-instance\"\n  }\n}\n\nresource \"aws_security_group\" \"sg\" {\n  tags = {\n    type = \"terraform-test-security-group\"\n  }\n}\n\nresource \"aws_network_interface_sg_attachment\" \"sg_attachment\" {\n  security_group_id    = aws_security_group.sg.id\n  network_interface_id = aws_instance.instance.primary_network_interface_id\n}\n```\n\nIn this example, `instance` is provided by the `aws_instance` data source,\nfetching an external instance, possibly not managed by Terraform.\n`sg_attachment` then attaches to the output instance's `network_interface_id`:\n\n```terraform\ndata \"aws_instance\" \"instance\" {\n  instance_id = \"i-1234567890abcdef0\"\n}\n\nresource \"aws_security_group\" \"sg\" {\n  tags = {\n    type = \"terraform-test-security-group\"\n  }\n}\n\nresource \"aws_network_interface_sg_attachment\" \"sg_attachment\" {\n  security_group_id    = aws_security_group.sg.id\n  network_interface_id = data.aws_instance.instance.network_interface_id\n}\n```\n\n## Argument Reference\n\n* `security_group_id` - (Required) The ID of the security group.\n* `network_interface_id` - (Required) The ID of the network interface to attach to.\n\n## Attribute Reference\n\nThis resource exports no additional attributes.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Network Interface Security Group attachments using the associated network interface ID and security group ID, separated by an underscore (`_`). For example:\n\n```terraform\nimport {\n  to = aws_network_interface_sg_attachment.sg_attachment\n  id = \"eni-1234567890abcdef0_sg-1234567890abcdef0\"\n}\n```\n\nUsing `terraform import`, import Network Interface Security Group attachments using the associated network interface ID and security group ID, separated by an underscore (`_`). For example:\n\n```console\n% terraform import aws_network_interface_sg_attachment.sg_attachment eni-1234567890abcdef0_sg-1234567890abcdef0\n```\n",
      "language": "hcl",
      "path": "website/docs/r/network_interface_sg_attachment.html.markdown",
      "slug": "network_interface_sg_attachment",
      "subcategory": "VPC (Virtual Private Cloud)",
      "title": "network_interface_sg_attachment",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3255508"
    }
  }
}