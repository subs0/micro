{
  "data": {
    "type": "provider-docs",
    "id": "3225784",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"S3 (Simple Storage)\"\nlayout: \"aws\"\npage_title: \"AWS: aws_s3_bucket_inventory\"\ndescription: |-\n  Provides a S3 bucket inventory configuration resource.\n---\n\n# Resource: aws_s3_bucket_inventory\n\nProvides a S3 bucket [inventory configuration](https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html) resource.\n\n## Example Usage\n\n### Add inventory configuration\n\n```terraform\nresource \"aws_s3_bucket\" \"test\" {\n  bucket = \"my-tf-test-bucket\"\n}\n\nresource \"aws_s3_bucket\" \"inventory\" {\n  bucket = \"my-tf-inventory-bucket\"\n}\n\nresource \"aws_s3_bucket_inventory\" \"test\" {\n  bucket = aws_s3_bucket.test.id\n  name   = \"EntireBucketDaily\"\n\n  included_object_versions = \"All\"\n\n  schedule {\n    frequency = \"Daily\"\n  }\n\n  destination {\n    bucket {\n      format     = \"ORC\"\n      bucket_arn = aws_s3_bucket.inventory.arn\n    }\n  }\n}\n```\n\n### Add inventory configuration with S3 object prefix\n\n```terraform\nresource \"aws_s3_bucket\" \"test\" {\n  bucket = \"my-tf-test-bucket\"\n}\n\nresource \"aws_s3_bucket\" \"inventory\" {\n  bucket = \"my-tf-inventory-bucket\"\n}\n\nresource \"aws_s3_bucket_inventory\" \"test-prefix\" {\n  bucket = aws_s3_bucket.test.id\n  name   = \"DocumentsWeekly\"\n\n  included_object_versions = \"All\"\n\n  schedule {\n    frequency = \"Daily\"\n  }\n\n  filter {\n    prefix = \"documents/\"\n  }\n\n  destination {\n    bucket {\n      format     = \"ORC\"\n      bucket_arn = aws_s3_bucket.inventory.arn\n      prefix     = \"inventory\"\n    }\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `bucket` - (Required) Name of the source bucket that inventory lists the objects for.\n* `name` - (Required) Unique identifier of the inventory configuration for the bucket.\n* `included_object_versions` - (Required) Object versions to include in the inventory list. Valid values: `All`, `Current`.\n* `schedule` - (Required) Specifies the schedule for generating inventory results (documented below).\n* `destination` - (Required) Contains information about where to publish the inventory results (documented below).\n* `enabled` - (Optional, Default: `true`) Specifies whether the inventory is enabled or disabled.\n* `filter` - (Optional) Specifies an inventory filter. The inventory only includes objects that meet the filter's criteria (documented below).\n* `optional_fields` - (Optional) List of optional fields that are included in the inventory results. Please refer to the S3 [documentation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_InventoryConfiguration.html#AmazonS3-Type-InventoryConfiguration-OptionalFields) for more details.\n\nThe `filter` configuration supports the following:\n\n* `prefix` - (Optional) Prefix that an object must have to be included in the inventory results.\n\nThe `schedule` configuration supports the following:\n\n* `frequency` - (Required) Specifies how frequently inventory results are produced. Valid values: `Daily`, `Weekly`.\n\nThe `destination` configuration supports the following:\n\n* `bucket` - (Required) S3 bucket configuration where inventory results are published (documented below).\n\nThe `bucket` configuration supports the following:\n\n* `bucket_arn` - (Required) Amazon S3 bucket ARN of the destination.\n* `format` - (Required) Specifies the output format of the inventory results. Can be `CSV`, [`ORC`](https://orc.apache.org/) or [`Parquet`](https://parquet.apache.org/).\n* `account_id` - (Optional) ID of the account that owns the destination bucket. Recommended to be set to prevent problems if the destination bucket ownership changes.\n* `prefix` - (Optional) Prefix that is prepended to all inventory results.\n* `encryption` - (Optional) Contains the type of server-side encryption to use to encrypt the inventory (documented below).\n\nThe `encryption` configuration supports the following:\n\n* `sse_kms` - (Optional) Specifies to use server-side encryption with AWS KMS-managed keys to encrypt the inventory file (documented below).\n* `sse_s3` - (Optional) Specifies to use server-side encryption with Amazon S3-managed keys (SSE-S3) to encrypt the inventory file.\n\nThe `sse_kms` configuration supports the following:\n\n* `key_id` - (Required) ARN of the KMS customer master key (CMK) used to encrypt the inventory file.\n\n## Attribute Reference\n\nThis resource exports no additional attributes.\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import S3 bucket inventory configurations using `bucket:inventory`. For example:\n\n```terraform\nimport {\n  to = aws_s3_bucket_inventory.my-bucket-entire-bucket\n  id = \"my-bucket:EntireBucket\"\n}\n```\n\nUsing `terraform import`, import S3 bucket inventory configurations using `bucket:inventory`. For example:\n\n```console\n% terraform import aws_s3_bucket_inventory.my-bucket-entire-bucket my-bucket:EntireBucket\n```\n",
      "language": "hcl",
      "path": "website/docs/r/s3_bucket_inventory.html.markdown",
      "slug": "s3_bucket_inventory",
      "subcategory": "S3 (Simple Storage)",
      "title": "s3_bucket_inventory",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225784"
    }
  }
}