{
  "data": {
    "type": "provider-docs",
    "id": "3224959",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Web Services Budgets\"\nlayout: \"aws\"\npage_title: \"AWS: aws_budgets_budget_action\"\ndescription: |-\n  Provides a budget action resource.\n---\n\n# Resource: aws_budgets_budget_action\n\nProvides a budget action resource. Budget actions are cost savings controls that run either automatically on your behalf or by using a workflow approval process.\n\n## Example Usage\n\n```terraform\nresource \"aws_budgets_budget_action\" \"example\" {\n  budget_name        = aws_budgets_budget.example.name\n  action_type        = \"APPLY_IAM_POLICY\"\n  approval_model     = \"AUTOMATIC\"\n  notification_type  = \"ACTUAL\"\n  execution_role_arn = aws_iam_role.example.arn\n\n  action_threshold {\n    action_threshold_type  = \"ABSOLUTE_VALUE\"\n    action_threshold_value = 100\n  }\n\n  definition {\n    iam_action_definition {\n      policy_arn = aws_iam_policy.example.arn\n      roles      = [aws_iam_role.example.name]\n    }\n  }\n\n  subscriber {\n    address           = \"example@example.example\"\n    subscription_type = \"EMAIL\"\n  }\n}\n\ndata \"aws_iam_policy_document\" \"example\" {\n  statement {\n    effect    = \"Allow\"\n    actions   = [\"ec2:Describe*\"]\n    resources = [\"*\"]\n  }\n}\n\nresource \"aws_iam_policy\" \"example\" {\n  name        = \"example\"\n  description = \"My example policy\"\n  policy      = data.aws_iam_policy_document.example.json\n}\n\ndata \"aws_partition\" \"current\" {}\n\ndata \"aws_iam_policy_document\" \"assume_role\" {\n  statement {\n    effect = \"Allow\"\n\n    principals {\n      type        = \"Service\"\n      identifiers = [\"budgets.${data.aws_partition.current.dns_suffix}\"]\n    }\n\n    actions = [\"sts:AssumeRole\"]\n  }\n}\n\nresource \"aws_iam_role\" \"example\" {\n  name               = \"example\"\n  assume_role_policy = data.aws_iam_policy_document.assume_role.json\n}\n\nresource \"aws_budgets_budget\" \"example\" {\n  name              = \"example\"\n  budget_type       = \"USAGE\"\n  limit_amount      = \"10.0\"\n  limit_unit        = \"dollars\"\n  time_period_start = \"2006-01-02_15:04\"\n  time_unit         = \"MONTHLY\"\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `account_id` - (Optional) The ID of the target account for budget. Will use current user's account_id by default if omitted.\n* `budget_name` - (Required) The name of a budget.\n* `action_threshold` - (Required) The trigger threshold of the action. See [Action Threshold](#action-threshold).\n* `action_type` - (Required) The type of action. This defines the type of tasks that can be carried out by this action. This field also determines the format for definition. Valid values are `APPLY_IAM_POLICY`, `APPLY_SCP_POLICY`, and `RUN_SSM_DOCUMENTS`.\n* `approval_model` - (Required) This specifies if the action needs manual or automatic approval. Valid values are `AUTOMATIC` and `MANUAL`.\n* `definition` - (Required) Specifies all of the type-specific parameters. See [Definition](#definition).\n* `execution_role_arn` - (Required) The role passed for action execution and reversion. Roles and actions must be in the same account.\n* `notification_type` - (Required) The type of a notification. Valid values are `ACTUAL` or `FORECASTED`.\n* `subscriber` - (Required) A list of subscribers. See [Subscriber](#subscriber).\n\n### Action Threshold\n\n* `action_threshold_type` - (Required) The type of threshold for a notification. Valid values are `PERCENTAGE` or `ABSOLUTE_VALUE`.\n* `action_threshold_value` - (Required) The threshold of a notification.\n\n### Subscriber\n\n* `address` - (Required) The address that AWS sends budget notifications to, either an SNS topic or an email.\n* `subscription_type` - (Required) The type of notification that AWS sends to a subscriber. Valid values are `SNS` or `EMAIL`.\n\n### Definition\n\n* `iam_action_definition` - (Optional) The AWS Identity and Access Management (IAM) action definition details. See [IAM Action Definition](#iam-action-definition).\n* `ssm_action_definition` - (Optional) The AWS Systems Manager (SSM) action definition details. See [SSM Action Definition](#ssm-action-definition).\n* `scp_action_definition` - (Optional) The service control policies (SCPs) action definition details. See [SCP Action Definition](#scp-action-definition).\n\n#### IAM Action Definition\n\n* `policy_arn` - (Required) The Amazon Resource Name (ARN) of the policy to be attached.\n* `groups` - (Optional) A list of groups to be attached. There must be at least one group.\n* `roles` - (Optional) A list of roles to be attached. There must be at least one role.\n* `users` - (Optional) A list of users to be attached. There must be at least one user.\n\n#### SCP Action Definition\n\n* `policy_id` - (Required) The policy ID attached.\n* `target_ids` - (Optional) A list of target IDs.\n\n#### SSM Action Definition\n\n* `action_sub_type` - (Required) The action subType. Valid values are `STOP_EC2_INSTANCES` or `STOP_RDS_INSTANCES`.\n* `instance_ids` - (Required) The EC2 and RDS instance IDs.\n* `region` - (Required) The Region to run the SSM document.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `action_id` - The id of the budget action.\n* `id` - ID of resource.\n* `arn` - The ARN of the budget action.\n* `status` - The status of the budget action.\n\n## Timeouts\n\n[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):\n\n* `create` - (Default `5m`)\n* `update` - (Default `5m`)\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import budget actions using `AccountID:ActionID:BudgetName`. For example:\n\n```terraform\nimport {\n  to = aws_budgets_budget_action.myBudget\n  id = \"123456789012:some-id:myBudget\"\n}\n```\n\nUsing `terraform import`, import budget actions using `AccountID:ActionID:BudgetName`. For example:\n\n```console\n% terraform import aws_budgets_budget_action.myBudget 123456789012:some-id:myBudget\n```\n",
      "language": "hcl",
      "path": "website/docs/r/budgets_budget_action.html.markdown",
      "slug": "budgets_budget_action",
      "subcategory": "Web Services Budgets",
      "title": "budgets_budget_action",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3224959"
    }
  }
}