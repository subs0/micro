{
  "data": {
    "type": "provider-docs",
    "id": "3225456",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"Kinesis Analytics\"\nlayout: \"aws\"\npage_title: \"AWS: aws_kinesis_analytics_application\"\ndescription: |-\n  Provides a AWS Kinesis Analytics Application\n---\n\n# Resource: aws_kinesis_analytics_application\n\nProvides a Kinesis Analytics Application resource. Kinesis Analytics is a managed service that\nallows processing and analyzing streaming data using standard SQL.\n\nFor more details, see the [Amazon Kinesis Analytics Documentation][1].\n\n-> **Note:** To manage Amazon Kinesis Data Analytics for Apache Flink applications, use the [`aws_kinesisanalyticsv2_application`](/docs/providers/aws/r/kinesisanalyticsv2_application.html) resource.\n\n## Example Usage\n\n### Kinesis Stream Input\n\n```terraform\nresource \"aws_kinesis_stream\" \"test_stream\" {\n  name        = \"terraform-kinesis-test\"\n  shard_count = 1\n}\n\nresource \"aws_kinesis_analytics_application\" \"test_application\" {\n  name = \"kinesis-analytics-application-test\"\n\n  inputs {\n    name_prefix = \"test_prefix\"\n\n    kinesis_stream {\n      resource_arn = aws_kinesis_stream.test_stream.arn\n      role_arn     = aws_iam_role.test.arn\n    }\n\n    parallelism {\n      count = 1\n    }\n\n    schema {\n      record_columns {\n        mapping  = \"$.test\"\n        name     = \"test\"\n        sql_type = \"VARCHAR(8)\"\n      }\n\n      record_encoding = \"UTF-8\"\n\n      record_format {\n        mapping_parameters {\n          json {\n            record_row_path = \"$\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n### Starting An Application\n\n```terraform\nresource \"aws_cloudwatch_log_group\" \"example\" {\n  name = \"analytics\"\n}\n\nresource \"aws_cloudwatch_log_stream\" \"example\" {\n  name           = \"example-kinesis-application\"\n  log_group_name = aws_cloudwatch_log_group.example.name\n}\n\nresource \"aws_kinesis_stream\" \"example\" {\n  name        = \"example-kinesis-stream\"\n  shard_count = 1\n}\n\nresource \"aws_kinesis_firehose_delivery_stream\" \"example\" {\n  name        = \"example-kinesis-delivery-stream\"\n  destination = \"extended_s3\"\n\n  extended_s3_configuration {\n    bucket_arn = aws_s3_bucket.example.arn\n    role_arn   = aws_iam_role.example.arn\n  }\n}\n\nresource \"aws_kinesis_analytics_application\" \"test\" {\n  name = \"example-application\"\n\n  cloudwatch_logging_options {\n    log_stream_arn = aws_cloudwatch_log_stream.example.arn\n    role_arn       = aws_iam_role.example.arn\n  }\n\n  inputs {\n    name_prefix = \"example_prefix\"\n\n    schema {\n      record_columns {\n        name     = \"COLUMN_1\"\n        sql_type = \"INTEGER\"\n      }\n\n      record_format {\n        mapping_parameters {\n          csv {\n            record_column_delimiter = \",\"\n            record_row_delimiter    = \"|\"\n          }\n        }\n      }\n    }\n\n    kinesis_stream {\n      resource_arn = aws_kinesis_stream.example.arn\n      role_arn     = aws_iam_role.example.arn\n    }\n\n    starting_position_configuration {\n      starting_position = \"NOW\"\n    }\n  }\n\n  outputs {\n    name = \"OUTPUT_1\"\n\n    schema {\n      record_format_type = \"CSV\"\n    }\n\n    kinesis_firehose {\n      resource_arn = aws_kinesis_firehose_delivery_stream.example.arn\n      role_arn     = aws_iam_role.example.arn\n    }\n  }\n\n  start_application = true\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `name` - (Required) Name of the Kinesis Analytics Application.\n* `code` - (Optional) SQL Code to transform input data, and generate output.\n* `description` - (Optional) Description of the application.\n* `cloudwatch_logging_options` - (Optional) The CloudWatch log stream options to monitor application errors.\nSee [CloudWatch Logging Options](#cloudwatch-logging-options) below for more details.\n* `inputs` - (Optional) Input configuration of the application. See [Inputs](#inputs) below for more details.\n* `outputs` - (Optional) Output destination configuration of the application. See [Outputs](#outputs) below for more details.\n* `reference_data_sources` - (Optional) An S3 Reference Data Source for the application.\nSee [Reference Data Sources](#reference-data-sources) below for more details.\n* `start_application` - (Optional) Whether to start or stop the Kinesis Analytics Application. To start an application, an input with a defined `starting_position` must be configured.\nTo modify an application's starting position, first stop the application by setting `start_application = false`, then update `starting_position` and set `start_application = true`.\n* `tags` - Key-value map of tags for the Kinesis Analytics Application. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n### CloudWatch Logging Options\n\nConfigure a CloudWatch Log Stream to monitor application errors.\n\nThe `cloudwatch_logging_options` block supports the following:\n\n* `log_stream_arn` - (Required) The ARN of the CloudWatch Log Stream.\n* `role_arn` - (Required) The ARN of the IAM Role used to send application messages.\n\n### Inputs\n\nConfigure an Input for the Kinesis Analytics Application. You can only have 1 Input configured.\n\nThe `inputs` block supports the following:\n\n* `name_prefix` - (Required) The Name Prefix to use when creating an in-application stream.\n* `schema` - (Required) The Schema format of the data in the streaming source. See [Source Schema](#source-schema) below for more details.\n* `kinesis_firehose` - (Optional) The Kinesis Firehose configuration for the streaming source. Conflicts with `kinesis_stream`.\nSee [Kinesis Firehose](#kinesis-firehose) below for more details.\n* `kinesis_stream` - (Optional) The Kinesis Stream configuration for the streaming source. Conflicts with `kinesis_firehose`.\nSee [Kinesis Stream](#kinesis-stream) below for more details.\n* `parallelism` - (Optional) The number of Parallel in-application streams to create.\nSee [Parallelism](#parallelism) below for more details.\n* `processing_configuration` - (Optional) The Processing Configuration to transform records as they are received from the stream.\nSee [Processing Configuration](#processing-configuration) below for more details.\n* `starting_position_configuration` (Optional) The point at which the application starts processing records from the streaming source.\nSee [Starting Position Configuration](#starting-position-configuration) below for more details.\n\n### Outputs\n\nConfigure Output destinations for the Kinesis Analytics Application. You can have a maximum of 3 destinations configured.\n\nThe `outputs` block supports the following:\n\n* `name` - (Required) The Name of the in-application stream.\n* `schema` - (Required) The Schema format of the data written to the destination. See [Destination Schema](#destination-schema) below for more details.\n* `kinesis_firehose` - (Optional) The Kinesis Firehose configuration for the destination stream. Conflicts with `kinesis_stream`.\nSee [Kinesis Firehose](#kinesis-firehose) below for more details.\n* `kinesis_stream` - (Optional) The Kinesis Stream configuration for the destination stream. Conflicts with `kinesis_firehose`.\nSee [Kinesis Stream](#kinesis-stream) below for more details.\n* `lambda` - (Optional) The Lambda function destination. See [Lambda](#lambda) below for more details.\n\n### Reference Data Sources\n\nAdd a Reference Data Source to the Kinesis Analytics Application. You can only have 1 Reference Data Source.\n\nThe `reference_data_sources` block supports the following:\n\n* `schema` - (Required) The Schema format of the data in the streaming source. See [Source Schema](#source-schema) below for more details.\n* `table_name` - (Required) The in-application Table Name.\n* `s3` - (Optional) The S3 configuration for the reference data source. See [S3 Reference](#s3-reference) below for more details.\n\n#### Kinesis Firehose\n\nConfiguration for a Kinesis Firehose delivery stream.\n\nThe `kinesis_firehose` block supports the following:\n\n* `resource_arn` - (Required) The ARN of the Kinesis Firehose delivery stream.\n* `role_arn` - (Required) The ARN of the IAM Role used to access the stream.\n\n#### Kinesis Stream\n\nConfiguration for a Kinesis Stream.\n\nThe `kinesis_stream` block supports the following:\n\n* `resource_arn` - (Required) The ARN of the Kinesis Stream.\n* `role_arn` - (Required) The ARN of the IAM Role used to access the stream.\n\n#### Destination Schema\n\nThe Schema format of the data in the destination.\n\nThe `schema` block supports the following:\n\n* `record_format_type` - (Required) The Format Type of the records on the output stream. Can be `CSV` or `JSON`.\n\n#### Source Schema\n\nThe Schema format of the data in the streaming source.\n\nThe `schema` block supports the following:\n\n* `record_columns` - (Required) The Record Column mapping for the streaming source data element.\nSee [Record Columns](#record-columns) below for more details.\n* `record_format` - (Required) The Record Format and mapping information to schematize a record.\nSee [Record Format](#record-format) below for more details.\n* `record_encoding` - (Optional) The Encoding of the record in the streaming source.\n\n#### Parallelism\n\nConfigures the number of Parallel in-application streams to create.\n\nThe `parallelism` block supports the following:\n\n* `count` - (Required) The Count of streams.\n\n#### Processing Configuration\n\nThe Processing Configuration to transform records as they are received from the stream.\n\nThe `processing_configuration` block supports the following:\n\n* `lambda` - (Required) The Lambda function configuration. See [Lambda](#lambda) below for more details.\n\n#### Lambda\n\nThe Lambda function that pre-processes records in the stream.\n\nThe `lambda` block supports the following:\n\n* `resource_arn` - (Required) The ARN of the Lambda function.\n* `role_arn` - (Required) The ARN of the IAM Role used to access the Lambda function.\n\n#### Starting Position Configuration\n\nThe point at which the application reads from the streaming source.\n\nThe `starting_position_configuration` block supports the following:\n\n* `starting_position` - (Required) The starting position on the stream. Valid values: `LAST_STOPPED_POINT`, `NOW`, `TRIM_HORIZON`.\n\n#### Record Columns\n\nThe Column mapping of each data element in the streaming source to the corresponding column in the in-application stream.\n\nThe `record_columns` block supports the following:\n\n* `name` - (Required) Name of the column.\n* `sql_type` - (Required) The SQL Type of the column.\n* `mapping` - (Optional) The Mapping reference to the data element.\n\n#### Record Format\n\nThe Record Format and relevant mapping information that should be applied to schematize the records on the stream.\n\nThe `record_format` block supports the following:\n\n* `record_format_type` - (Required) The type of Record Format. Can be `CSV` or `JSON`.\n* `mapping_parameters` - (Optional) The Mapping Information for the record format.\nSee [Mapping Parameters](#mapping-parameters) below for more details.\n\n#### Mapping Parameters\n\nProvides Mapping information specific to the record format on the streaming source.\n\nThe `mapping_parameters` block supports the following:\n\n* `csv` - (Optional) Mapping information when the record format uses delimiters.\nSee [CSV Mapping Parameters](#csv-mapping-parameters) below for more details.\n* `json` - (Optional) Mapping information when JSON is the record format on the streaming source.\nSee [JSON Mapping Parameters](#json-mapping-parameters) below for more details.\n\n#### CSV Mapping Parameters\n\nMapping information when the record format uses delimiters.\n\nThe `csv` block supports the following:\n\n* `record_column_delimiter` - (Required) The Column Delimiter.\n* `record_row_delimiter` - (Required) The Row Delimiter.\n\n#### JSON Mapping Parameters\n\nMapping information when JSON is the record format on the streaming source.\n\nThe `json` block supports the following:\n\n* `record_row_path` - (Required) Path to the top-level parent that contains the records.\n\n#### S3 Reference\n\nIdentifies the S3 bucket and object that contains the reference data.\n\nThe `s3` blcok supports the following:\n\n* `bucket_arn` - (Required) The S3 Bucket ARN.\n* `file_key` - (Required) The File Key name containing reference data.\n* `role_arn` - (Required) The IAM Role ARN to read the data.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `id` - The ARN of the Kinesis Analytics Application.\n* `arn` - The ARN of the Kinesis Analytics Appliation.\n* `create_timestamp` - The Timestamp when the application version was created.\n* `last_update_timestamp` - The Timestamp when the application was last updated.\n* `status` - The Status of the application.\n* `version` - The Version of the application.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n\n[1]: https://docs.aws.amazon.com/kinesisanalytics/latest/dev/what-is.html\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Kinesis Analytics Application using ARN. For example:\n\n```terraform\nimport {\n  to = aws_kinesis_analytics_application.example\n  id = \"arn:aws:kinesisanalytics:us-west-2:1234567890:application/example\"\n}\n```\n\nUsing `terraform import`, import Kinesis Analytics Application using ARN. For example:\n\n```console\n% terraform import aws_kinesis_analytics_application.example arn:aws:kinesisanalytics:us-west-2:1234567890:application/example\n```\n",
      "language": "hcl",
      "path": "website/docs/r/kinesis_analytics_application.html.markdown",
      "slug": "kinesis_analytics_application",
      "subcategory": "Kinesis Analytics",
      "title": "kinesis_analytics_application",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225456"
    }
  }
}