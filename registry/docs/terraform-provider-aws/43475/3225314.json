{
  "data": {
    "type": "provider-docs",
    "id": "3225314",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"FinSpace\"\nlayout: \"aws\"\npage_title: \"AWS: aws_finspace_kx_environment\"\ndescription: |-\n  Terraform resource for managing an AWS FinSpace Kx Environment.\n---\n\n# Resource: aws_finspace_kx_environment\n\nTerraform resource for managing an AWS FinSpace Kx Environment.\n\n## Example Usage\n\n### Basic Usage\n\n```terraform\nresource \"aws_kms_key\" \"example\" {\n  description             = \"Sample KMS Key\"\n  deletion_window_in_days = 7\n}\n\nresource \"aws_finspace_kx_environment\" \"example\" {\n  name       = \"my-tf-kx-environment\"\n  kms_key_id = aws_kms_key.example.arn\n}\n```\n\n### With Transit Gateway Configuration\n\n```terraform\nresource \"aws_kms_key\" \"example\" {\n  description             = \"Sample KMS Key\"\n  deletion_window_in_days = 7\n}\n\nresource \"aws_ec2_transit_gateway\" \"example\" {\n  description = \"example\"\n}\n\nresource \"aws_finspace_kx_environment\" \"example_env\" {\n  name        = \"my-tf-kx-environment\"\n  description = \"Environment description\"\n  kms_key_id  = aws_kms_key.example.arn\n\n  transit_gateway_configuration {\n    transit_gateway_id  = aws_ec2_transit_gateway.example.id\n    routable_cidr_space = \"100.64.0.0/26\"\n  }\n\n  custom_dns_configuration {\n    custom_dns_server_name = \"example.finspace.amazonaws.com\"\n    custom_dns_server_ip   = \"10.0.0.76\"\n  }\n}\n```\n\n### With Transit Gateway Attachment Network ACL Configuration\n\n```terraform\nresource \"aws_kms_key\" \"example\" {\n  description             = \"Sample KMS Key\"\n  deletion_window_in_days = 7\n}\n\nresource \"aws_ec2_transit_gateway\" \"example\" {\n  description = \"example\"\n}\n\nresource \"aws_finspace_kx_environment\" \"example_env\" {\n  name        = \"my-tf-kx-environment\"\n  description = \"Environment description\"\n  kms_key_id  = aws_kms_key.example.arn\n\n  transit_gateway_configuration {\n    transit_gateway_id  = aws_ec2_transit_gateway.example.id\n    routable_cidr_space = \"100.64.0.0/26\"\n    attachment_network_acl_configuration {\n      rule_number = 1\n      protocol    = \"6\"\n      rule_action = \"allow\"\n      cidr_block  = \"0.0.0.0/0\"\n      port_range {\n        from = 53\n        to   = 53\n      }\n      icmp_type_code {\n        type = -1\n        code = -1\n      }\n    }\n  }\n\n  custom_dns_configuration {\n    custom_dns_server_name = \"example.finspace.amazonaws.com\"\n    custom_dns_server_ip   = \"10.0.0.76\"\n  }\n}\n```\n\n## Argument Reference\n\nThe following arguments are required:\n\n* `name` - (Required) Name of the KX environment that you want to create.\n* `kms_key_id` - (Required) KMS key ID to encrypt your data in the FinSpace environment.\n\nThe following arguments are optional:\n\n* `custom_dns_configuration` - (Optional) List of DNS server name and server IP. This is used to set up Route-53 outbound resolvers. Defined below.\n* `description` - (Optional) Description for the KX environment.\n* `tags` - (Optional) Key-value mapping of resource tags. If configured with a provider [`default_tags` configuration block](/docs/providers/aws/index.html#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n* `transit_gateway_configuration` - (Optional) Transit gateway and network configuration that is used to connect the KX environment to an internal network. Defined below.\n\n### custom_dns_configuration\n\nThe custom_dns_configuration block supports the following arguments:\n\n* `custom_dns_server_ip` - (Required) IP address of the DNS server.\n* `custom_dns_server_name` - (Required) Name of the DNS server.\n\n### transit_gateway_configuration\n\nThe transit_gateway_configuration block supports the following arguments:\n\n* `routable_cidr_space` - (Required) Routing CIDR on behalf of KX environment. It could be any “/26 range in the 100.64.0.0 CIDR space. After providing, it will be added to the customer’s transit gateway routing table so that the traffics could be routed to KX network.\n* `transit_gateway_id` - (Required) Identifier of the transit gateway created by the customer to connect outbound traffics from KX network to your internal network.\n* `attachment_network_acl_configuration` - (Optional) Rules that define how you manage outbound traffic from kdb network to your internal network. Defined below.\n\n### attachment_network_acl_configuration\n\nThe network access control list (ACL) is an optional layer of security for VPCs that acts as a firewall for controlling traffic in and out of one or more subnets.\nThe entry is a set of numbered ingress and egress rules that determine whether a packet should be allowed in or out of a subnet associated with the ACL.\nEntries in the ACL are processed according to the rule numbers, in ascending order. The `attachment_network_acl_configuration` block supports the following arguments:\n\n* `cidr_block` - (Required) The IPv4 network range to allow or deny, in CIDR notation. The specified CIDR block is modified to its canonical form. For example, `100.68.0.18/18` will be converted to `100.68.0.0/18`.\n* `protocol` - (Required) Protocol number. A value of `1` means all the protocols.\n* `rule_action` - (Required) Indicates whether to `allow` or `deny` the traffic that matches the rule.\n* `rule_number` - (Required) Rule number for the entry. All the network ACL entries are processed in ascending order by rule number.\n* `icmp_type_code` - (Optional) Defines the ICMP protocol that consists of the ICMP type and code. Defined below.\n* `port_range` - (Optional) Range of ports the rule applies to. Defined below.\n\n### port_range\n\nThe range of ports the rule applies to (between `0` and `65535`). The `port_range` block supports the following arguments:\n\n* `from` - (Required) First port in the range.\n* `to` - (Required) Last port in the range.\n\n### icmp_type_code\n\nDefines the ICMP protocol that consists of the ICMP type and code. The `icmp_type_code` block supports the following arguments:\n\n* `code` - (Required) ICMP code. A value of `-1` means all codes for the specified ICMP type.\n* `type` - (Required) ICMP type. A value of `-1` means all types.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `arn` - Amazon Resource Name (ARN) identifier of the KX environment.\n* `availability_zones` - AWS Availability Zone IDs that this environment is available in. Important when selecting VPC subnets to use in cluster creation.\n* `created_timestamp` - Timestamp at which the environment is created in FinSpace. Value determined as epoch time in seconds. For example, the value for Monday, November 1, 2021 12:00:00 PM UTC is specified as 1635768000.\n* `id` - Unique identifier for the KX environment.\n* `infrastructure_account_id` - Unique identifier for the AWS environment infrastructure account.\n* `last_modified_timestamp` - Last timestamp at which the environment was updated in FinSpace. Value determined as epoch time in seconds. For example, the value for Monday, November 1, 2021 12:00:00 PM UTC is specified as 1635768000.\n* `status` - Status of environment creation\n* `tags_all` - Map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](/docs/providers/aws/index.html#default_tags-configuration-block).\n\n## Timeouts\n\n[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):\n\n* `create` - (Default `30m`)\n* `update` - (Default `30m`)\n* `delete` - (Default `45m`)\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import an AWS FinSpace Kx Environment using the `id`. For example:\n\n```terraform\nimport {\n  to = aws_finspace_kx_environment.example\n  id = \"n3ceo7wqxoxcti5tujqwzs\"\n}\n```\n\nUsing `terraform import`, import an AWS FinSpace Kx Environment using the `id`. For example:\n\n```console\n% terraform import aws_finspace_kx_environment.example n3ceo7wqxoxcti5tujqwzs\n```\n",
      "language": "hcl",
      "path": "website/docs/r/finspace_kx_environment.html.markdown",
      "slug": "finspace_kx_environment",
      "subcategory": "FinSpace",
      "title": "finspace_kx_environment",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225314"
    }
  }
}