{
  "data": {
    "type": "provider-docs",
    "id": "3225821",
    "attributes": {
      "category": "resources",
      "content": "---\nsubcategory: \"SageMaker\"\nlayout: \"aws\"\npage_title: \"AWS: aws_sagemaker_flow_definition\"\ndescription: |-\n  Provides a SageMaker Flow Definition resource.\n---\n\n# Resource: aws_sagemaker_flow_definition\n\nProvides a SageMaker Flow Definition resource.\n\n## Example Usage\n\n### Basic Usage\n\n```terraform\nresource \"aws_sagemaker_flow_definition\" \"example\" {\n  flow_definition_name = \"example\"\n  role_arn             = aws_iam_role.example.arn\n\n  human_loop_config {\n    human_task_ui_arn                     = aws_sagemaker_human_task_ui.example.arn\n    task_availability_lifetime_in_seconds = 1\n    task_count                            = 1\n    task_description                      = \"example\"\n    task_title                            = \"example\"\n    workteam_arn                          = aws_sagemaker_workteam.example.arn\n  }\n\n  output_config {\n    s3_output_path = \"s3://${aws_s3_bucket.example.bucket}/\"\n  }\n}\n```\n\n### Public Workteam Usage\n\n```terraform\nresource \"aws_sagemaker_flow_definition\" \"example\" {\n  flow_definition_name = \"example\"\n  role_arn             = aws_iam_role.example.arn\n\n  human_loop_config {\n    human_task_ui_arn                     = aws_sagemaker_human_task_ui.example.arn\n    task_availability_lifetime_in_seconds = 1\n    task_count                            = 1\n    task_description                      = \"example\"\n    task_title                            = \"example\"\n    workteam_arn                          = \"arn:aws:sagemaker:${data.aws_region.current.name}:394669845002:workteam/public-crowd/default\"\n\n    public_workforce_task_price {\n      amount_in_usd {\n        cents                     = 1\n        tenth_fractions_of_a_cent = 2\n      }\n    }\n  }\n\n  output_config {\n    s3_output_path = \"s3://${aws_s3_bucket.example.bucket}/\"\n  }\n}\n```\n\n### Human Loop Activation Config Usage\n\n```terraform\nresource \"aws_sagemaker_flow_definition\" \"example\" {\n  flow_definition_name = \"example\"\n  role_arn             = aws_iam_role.example.arn\n\n  human_loop_config {\n    human_task_ui_arn                     = aws_sagemaker_human_task_ui.example.arn\n    task_availability_lifetime_in_seconds = 1\n    task_count                            = 1\n    task_description                      = \"example\"\n    task_title                            = \"example\"\n    workteam_arn                          = aws_sagemaker_workteam.example.arn\n  }\n\n  human_loop_request_source {\n    aws_managed_human_loop_request_source = \"AWS/Textract/AnalyzeDocument/Forms/V1\"\n  }\n\n  human_loop_activation_config {\n    human_loop_activation_conditions_config {\n      human_loop_activation_conditions = <<EOF\n        {\n\t\t\t\"Conditions\": [\n\t\t\t  {\n\t\t\t\t\"ConditionType\": \"Sampling\",\n\t\t\t\t\"ConditionParameters\": {\n\t\t\t\t  \"RandomSamplingPercentage\": 5\n\t\t\t\t}\n\t\t\t  }\n\t\t\t]\n\t\t}\n        EOF\n    }\n  }\n\n  output_config {\n    s3_output_path = \"s3://${aws_s3_bucket.example.bucket}/\"\n  }\n}\n```\n\n## Argument Reference\n\nThis resource supports the following arguments:\n\n* `flow_definition_name` - (Required) The name of your flow definition.\n* `human_loop_config` - (Required)  An object containing information about the tasks the human reviewers will perform. See [Human Loop Config](#human-loop-config) details below.\n* `role_arn` - (Required) The Amazon Resource Name (ARN) of the role needed to call other services on your behalf.\n* `output_config` - (Required) An object containing information about where the human review results will be uploaded. See [Output Config](#output-config) details below.\n* `human_loop_activation_config` - (Optional) An object containing information about the events that trigger a human workflow. See [Human Loop Activation Config](#human-loop-activation-config) details below.\n* `human_loop_request_source` - (Optional) Container for configuring the source of human task requests. Use to specify if Amazon Rekognition or Amazon Textract is used as an integration source. See [Human Loop Request Source](#human-loop-request-source) details below.\n* `tags` - (Optional) A map of tags to assign to the resource. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.\n\n### Human Loop Config\n\n* `human_task_ui_arn` - (Required) The Amazon Resource Name (ARN) of the human task user interface.\n* `public_workforce_task_price` - (Optional) Defines the amount of money paid to an Amazon Mechanical Turk worker for each task performed. See [Public Workforce Task Price](#public-workforce-task-price) details below.\n* `task_availability_lifetime_in_seconds` - (Required) The length of time that a task remains available for review by human workers. Valid value range between `1` and `864000`.\n* `task_count` - (Required) The number of distinct workers who will perform the same task on each object. Valid value range between `1` and `3`.\n* `task_description` - (Required) A description for the human worker task.\n* `task_keywords` - (Optional) An array of keywords used to describe the task so that workers can discover the task.\n* `task_time_limit_in_seconds` - (Optional) The amount of time that a worker has to complete a task. The default value is `3600` seconds.\n* `task_title` - (Required) A title for the human worker task.\n* `workteam_arn` - (Required) The Amazon Resource Name (ARN) of the human task user interface. Amazon Resource Name (ARN) of a team of workers. For Public workforces see [AWS Docs](https://docs.aws.amazon.com/sagemaker/latest/dg/sms-workforce-management-public.html).\n\n#### Public Workforce Task Price\n\n* `amount_in_usd` - (Optional) Defines the amount of money paid to an Amazon Mechanical Turk worker in United States dollars. See [Amount In Usd](#amount-in-usd) details below.\n\n##### Amount In Usd\n\n* `cents` - (Optional) The fractional portion, in cents, of the amount. Valid value range between `0` and `99`.\n* `dollars` - (Optional) The whole number of dollars in the amount. Valid value range between `0` and `2`.\n* `tenth_fractions_of_a_cent` - (Optional) Fractions of a cent, in tenths. Valid value range between `0` and `9`.\n\n### Human Loop Activation Config\n\n* `human_loop_activation_conditions_config` - (Required) defines under what conditions SageMaker creates a human loop. See [Human Loop Activation Conditions Config](#human-loop-activation-conditions-config) details below.\n\n#### Human Loop Activation Conditions Config\n\n* `human_loop_activation_conditions` - (Required) A JSON expressing use-case specific conditions declaratively. If any condition is matched, atomic tasks are created against the configured work team. For more information about how to structure the JSON, see [JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI](https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html).\n\n### Human Loop Request Source\n\n* `aws_managed_human_loop_request_source` - (Required) Specifies whether Amazon Rekognition or Amazon Textract are used as the integration source. Valid values are: `AWS/Rekognition/DetectModerationLabels/Image/V3` and `AWS/Textract/AnalyzeDocument/Forms/V1`.\n\n### Output Config\n\n* `s3_output_path` - (Required) The Amazon S3 path where the object containing human output will be made available.\n* `kms_key_id` - (Optional) The Amazon Key Management Service (KMS) key ARN for server-side encryption.\n\n## Attribute Reference\n\nThis resource exports the following attributes in addition to the arguments above:\n\n* `arn` - The Amazon Resource Name (ARN) assigned by AWS to this Flow Definition.\n* `id` - The name of the Flow Definition.\n* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).\n\n## Import\n\nIn Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import SageMaker Flow Definitions using the `flow_definition_name`. For example:\n\n```terraform\nimport {\n  to = aws_sagemaker_flow_definition.example\n  id = \"example\"\n}\n```\n\nUsing `terraform import`, import SageMaker Flow Definitions using the `flow_definition_name`. For example:\n\n```console\n% terraform import aws_sagemaker_flow_definition.example example\n```\n",
      "language": "hcl",
      "path": "website/docs/r/sagemaker_flow_definition.html.markdown",
      "slug": "sagemaker_flow_definition",
      "subcategory": "SageMaker",
      "title": "sagemaker_flow_definition",
      "truncated": false
    },
    "links": {
      "self": "/v2/provider-docs/3225821"
    }
  }
}